(this["webpackJsonpprovenance-analyzer"]=this["webpackJsonpprovenance-analyzer"]||[]).push([[0],{103:function(e,t,n){e.exports={searchContainer:"EventSearch_searchContainer__3w0LZ",searchBar:"EventSearch_searchBar__3PGaY",searchOptions:"EventSearch_searchOptions__3hOQJ",outerSearchBar:"EventSearch_outerSearchBar__3wMHs",outerSearchOptions:"EventSearch_outerSearchOptions__2tSHp",outerSearchDiscard:"EventSearch_outerSearchDiscard__2_Aj4"}},178:function(e,t,n){e.exports={container:"App_container__1MQN3",header:"App_header__3ZZ1n",logo:"App_logo__1ItuU",sidePane:"App_sidePane__3RleR",main:"App_main__3ZkGI"}},223:function(e,t,n){e.exports={spin:"ProvenanceTable_spin__3Jw--",groupHeaderRow:"ProvenanceTable_groupHeaderRow__pwvw-",groupHeaderContent:"ProvenanceTable_groupHeaderContent__1Zlne",rotate:"ProvenanceTable_rotate__XaLA9"}},338:function(e,t,n){e.exports={wrapper:"ProvenanceIsolatedNodes_wrapper__3cJfW"}},361:function(e,t,n){e.exports={loader:"TableDataLoader_loader__1QxY3"}},369:function(e,t,n){e.exports={logo:"SidePane_logo__3vZO1",SelectedTaskInput:"SidePane_SelectedTaskInput__1nreK"}},418:function(e,t,n){e.exports=n(703)},423:function(e,t,n){},425:function(e){e.exports=JSON.parse("{}")},429:function(e,t,n){var a={"./1_manual.png":430,"./1_supported.png":431,"./23_manual.png":432,"./2_supported.png":433,"./41_manual.png":434,"./44_manual.png":435,"./47_manual.png":436,"./4_manual.png":437,"./54_manual.png":438,"./5_supported.png":439,"./60_manual.png":440,"./63_manual.png":441,"./66_manual.png":442,"./6_supported.png":443,"./7_manual.png":444,"./S-task01_adjMatrix.png":445,"./S-task01_nodeLink.png":446,"./S-task02_adjMatrix.png":447,"./S-task02_nodeLink.png":448,"./S-task03_adjMatrix.png":449,"./S-task03_nodeLink.png":450,"./S-task04_adjMatrix.png":451,"./S-task04_nodeLink.png":452,"./S-task05_adjMatrix.png":453,"./S-task05_nodeLink.png":454,"./S-task06_adjMatrix.png":455,"./S-task06_nodeLink.png":456,"./S-task07_adjMatrix.png":457,"./S-task07_nodeLink.png":458,"./S-task08_adjMatrix.png":459,"./S-task08_nodeLink.png":460,"./S-task09_adjMatrix.png":461,"./S-task09_nodeLink.png":462,"./S-task10_adjMatrix.png":463,"./S-task10_nodeLink.png":464,"./S-task11_adjMatrix.png":465,"./S-task11_nodeLink.png":466,"./S-task12_adjMatrix.png":467,"./S-task12_nodeLink.png":468,"./S-task13_adjMatrix.png":469,"./S-task13_nodeLink.png":470,"./S-task14_adjMatrix.png":471,"./S-task14_nodeLink.png":472,"./S-task15_adjMatrix.png":473,"./S-task15_nodeLink.png":474,"./S-task16_adjMatrix.png":475,"./S-task16_nodeLink.png":476,"./Screen Shot 2020-09-07 at 3.25.40 PM.png":477,"./Screen Shot 2020-09-07 at 3.25.55 PM.png":478,"./Screen Shot 2020-09-07 at 3.28.22 PM.png":479,"./Screen Shot 2020-09-07 at 3.28.59 PM.png":480,"./Screen Shot 2020-09-07 at 3.29.22 PM.png":481,"./Screen Shot 2020-09-07 at 3.29.36 PM.png":482,"./Screen Shot 2020-09-07 at 3.31.26 PM.png":483,"./Screen Shot 2020-09-07 at 3.32.07 PM.png":484,"./Screen Shot 2020-09-07 at 3.32.24 PM.png":485,"./Screen Shot 2020-09-07 at 3.32.44 PM.png":486,"./Screen Shot 2020-09-07 at 3.33.05 PM.png":487,"./Screen Shot 2020-09-07 at 3.33.39 PM.png":488,"./Screen Shot 2020-09-07 at 3.33.53 PM.png":489,"./Screen Shot 2020-09-07 at 3.34.49 PM.png":490,"./Screen Shot 2020-09-07 at 3.35.08 PM.png":491,"./Screen Shot 2020-09-07 at 3.35.48 PM.png":492,"./linear regression_supported.png":493,"./outlier.png":494,"./outlier_supported.png":495,"./placeholder.png":496,"./quadratic regression_supported.png":497,"./quadratic_regression_supported.png":498,"./skyline_supported.png":499};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=429},430:function(e,t,n){e.exports=n.p+"static/media/1_manual.f6623c55.png"},431:function(e,t,n){e.exports=n.p+"static/media/1_supported.1cf5a4a3.png"},432:function(e,t,n){e.exports=n.p+"static/media/23_manual.7897333e.png"},433:function(e,t,n){e.exports=n.p+"static/media/2_supported.1cf5a4a3.png"},434:function(e,t,n){e.exports=n.p+"static/media/41_manual.0d1c762a.png"},435:function(e,t,n){e.exports=n.p+"static/media/44_manual.4d5eb690.png"},436:function(e,t,n){e.exports=n.p+"static/media/47_manual.76bbe7b6.png"},437:function(e,t,n){e.exports=n.p+"static/media/4_manual.90daaa28.png"},438:function(e,t,n){e.exports=n.p+"static/media/54_manual.14f9d17f.png"},439:function(e,t,n){e.exports=n.p+"static/media/5_supported.8d122eba.png"},440:function(e,t,n){e.exports=n.p+"static/media/60_manual.41c7e45f.png"},441:function(e,t,n){e.exports=n.p+"static/media/63_manual.37f69dd8.png"},442:function(e,t,n){e.exports=n.p+"static/media/66_manual.a3c1afce.png"},443:function(e,t,n){e.exports=n.p+"static/media/6_supported.79186644.png"},444:function(e,t,n){e.exports=n.p+"static/media/7_manual.76272bc9.png"},445:function(e,t,n){e.exports=n.p+"static/media/S-task01_adjMatrix.66aa102e.png"},446:function(e,t,n){e.exports=n.p+"static/media/S-task01_nodeLink.9aabba82.png"},447:function(e,t,n){e.exports=n.p+"static/media/S-task02_adjMatrix.17795797.png"},448:function(e,t,n){e.exports=n.p+"static/media/S-task02_nodeLink.0f658255.png"},449:function(e,t,n){e.exports=n.p+"static/media/S-task03_adjMatrix.3efe1333.png"},450:function(e,t,n){e.exports=n.p+"static/media/S-task03_nodeLink.cabb8101.png"},451:function(e,t,n){e.exports=n.p+"static/media/S-task04_adjMatrix.f05a898c.png"},452:function(e,t,n){e.exports=n.p+"static/media/S-task04_nodeLink.921a839d.png"},453:function(e,t,n){e.exports=n.p+"static/media/S-task05_adjMatrix.dca03e38.png"},454:function(e,t,n){e.exports=n.p+"static/media/S-task05_nodeLink.a6bb33b2.png"},455:function(e,t,n){e.exports=n.p+"static/media/S-task06_adjMatrix.4c2ded02.png"},456:function(e,t,n){e.exports=n.p+"static/media/S-task06_nodeLink.814fb4ef.png"},457:function(e,t,n){e.exports=n.p+"static/media/S-task07_adjMatrix.ce25fd21.png"},458:function(e,t,n){e.exports=n.p+"static/media/S-task07_nodeLink.69f0ecbd.png"},459:function(e,t,n){e.exports=n.p+"static/media/S-task08_adjMatrix.04417e64.png"},460:function(e,t,n){e.exports=n.p+"static/media/S-task08_nodeLink.f3b42a5e.png"},461:function(e,t,n){e.exports=n.p+"static/media/S-task09_adjMatrix.7bf60f59.png"},462:function(e,t,n){e.exports=n.p+"static/media/S-task09_nodeLink.4204dd3a.png"},463:function(e,t,n){e.exports=n.p+"static/media/S-task10_adjMatrix.9ddb2123.png"},464:function(e,t,n){e.exports=n.p+"static/media/S-task10_nodeLink.a860a4f6.png"},465:function(e,t,n){e.exports=n.p+"static/media/S-task11_adjMatrix.54e888d9.png"},466:function(e,t,n){e.exports=n.p+"static/media/S-task11_nodeLink.0ae4a7e8.png"},467:function(e,t,n){e.exports=n.p+"static/media/S-task12_adjMatrix.f17a7ce4.png"},468:function(e,t,n){e.exports=n.p+"static/media/S-task12_nodeLink.85a12057.png"},469:function(e,t,n){e.exports=n.p+"static/media/S-task13_adjMatrix.c32867ee.png"},470:function(e,t,n){e.exports=n.p+"static/media/S-task13_nodeLink.53d318fb.png"},471:function(e,t,n){e.exports=n.p+"static/media/S-task14_adjMatrix.e408facf.png"},472:function(e,t,n){e.exports=n.p+"static/media/S-task14_nodeLink.dadf2a19.png"},473:function(e,t,n){e.exports=n.p+"static/media/S-task15_adjMatrix.a494df59.png"},474:function(e,t,n){e.exports=n.p+"static/media/S-task15_nodeLink.6aa0bedb.png"},475:function(e,t,n){e.exports=n.p+"static/media/S-task16_adjMatrix.7362fb6e.png"},476:function(e,t,n){e.exports=n.p+"static/media/S-task16_nodeLink.8290467a.png"},477:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.25.40 PM.d8d82f24.png"},478:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.25.55 PM.633b223d.png"},479:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.28.22 PM.44e4fff7.png"},480:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.28.59 PM.96a54c50.png"},481:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.29.22 PM.004f7648.png"},482:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.29.36 PM.94bee4af.png"},483:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.31.26 PM.51c70f97.png"},484:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.32.07 PM.063664fd.png"},485:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.32.24 PM.02e24dee.png"},486:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.32.44 PM.c2a61fba.png"},487:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.33.05 PM.5a50933e.png"},488:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.33.39 PM.b6387344.png"},489:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.33.53 PM.b5379912.png"},490:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.34.49 PM.d1040b8a.png"},491:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.35.08 PM.174eddc3.png"},492:function(e,t,n){e.exports=n.p+"static/media/Screen Shot 2020-09-07 at 3.35.48 PM.2dea7c64.png"},493:function(e,t,n){e.exports=n.p+"static/media/linear regression_supported.b509637c.png"},494:function(e,t,n){e.exports=n.p+"static/media/outlier.c7ab0c77.png"},495:function(e,t,n){e.exports=n.p+"static/media/outlier_supported.36a11827.png"},496:function(e,t,n){e.exports=n.p+"static/media/placeholder.cc568d38.png"},497:function(e,t,n){e.exports=n.p+"static/media/quadratic regression_supported.16ab53a9.png"},498:function(e,t,n){e.exports=n.p+"static/media/quadratic_regression_supported.9d74bf64.png"},499:function(e,t,n){e.exports=n.p+"static/media/skyline_supported.a61efb24.png"},697:function(e,t,n){},703:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n.n(i),c=(n(423),n(38)),l=n(178),s=n.n(l),u=n(45),d=n(46),m=n(783),p=n(780),f=n(35),g=n(47),h=n(10),b=n(747),v=n(758),x=n(760),E=n(748),y=n(759),k=n(761),S=n(183),w=n(776),O=n(787),j=n(757),C=n(375),I=n(749),M=n(762),D=n(751),N=n(755),A=n(754),T=n(750),P=n(752),R=n(753),L=n(127),F=n.n(L),B=n(15),q=n(16),H=n.n(q),z=n(33),W=(n(160),n(425),"https://revisit.live");function U(e){return G.apply(this,arguments)}function G(){return(G=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(W+"/actions/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se("".concat(W,"/groupPatterns"),{groups:[{id:"group1",participants:t}]});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return e.elements&&(e.elements=e.elements.replace(/FALSE/g,'"false"'),e.elements=e.elements.replace(/TRUE/g,'"true"'),e.elements=JSON.parse(e.elements)),e.color=e.color.replace("/r",""),{color:e.color,name:e.label,id:e._id,elements:e.elements,icon:e.icon,hidden:e.hidden,type:e.type}}function X(e){return e.map((function(e){return{_id:e.id,label:e.name,elements:e.elements?JSON.stringify(e.elements):null,icon:e.icon,type:e.type,color:e.color,hidden:e.hidden}}))}function Z(){return(Z=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(W+"/actionConfigurations",X(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return K.apply(this,arguments)}function K(){return(K=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(W+"/actionConfigurations");case 2:return(t=e.sent).data=t.data.map(V),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(z.a)(H.a.mark((function e(){var t,n,a=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:void 0,e.prev=1,!t){e.next=8;break}return e.next=5,se(W+"/overview/".concat(t));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,se(W+"/overview/allTasks");case 10:e.t0=e.sent;case 11:return n=e.t0,e.abrupt("return",n);case 15:e.prev=15,e.t1=e.catch(1),console.log("dywootto res",e.t1);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("".concat(W,"/table/").concat(t,"/schema"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("".concat(W,"/data/task/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return oe.apply(this,arguments)}function oe(){return(oe=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("".concat(W,"/timeline"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return le.apply(this,arguments)}function le(){return(le=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("".concat(W,"/taskList"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t,n){return ue.apply(this,arguments)}function ue(){return(ue=Object(z.a)(H.a.mark((function e(t,n,a){var r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:t,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)},e.next=3,pe(t,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return me.apply(this,arguments)}function me(){return(me=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Accept:"application/json"}},e.next=3,pe(t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:return a=e.sent,e.next=6,a.json();case 6:a.data=e.sent,a.success=a.ok,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),e.t0;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ge(e,t){var n=Object(a.useState)(null),r=Object(h.a)(n,2),i=r[0],o=r[1],c=Object(a.useState)(null),l=Object(h.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)(null),m=Object(h.a)(d,2),p=m[0],g=m[1],b=function(e){o(!1),u(e)};return Object(a.useEffect)((function(){o(!0),u(""),e().then((function(e){var t;e&&e.success&&e.data?(t=e.data,g(t),o(!1)):b("Error occured obtaining data from server")}),(function(e){b("Error occured during data fetch ".concat(null===e||void 0===e?void 0:e.message))})).catch((function(e){b("Error occured after data fetched ".concat(null===e||void 0===e?void 0:e.message))}))}),Object(f.a)(t)),[i,s,p]}var he=n(318),be=n.n(he),ve=n(322),xe=n.n(ve),Ee=n(323),ye=n.n(Ee),ke=n(324),Se=n.n(ke),we=n(128),Oe=n.n(we),je=n(325),Ce=n.n(je),Ie=n(326),Me=n.n(Ie),_e=n(327),De=n.n(_e),Ne=n(328),Ae=n.n(Ne),Te=n(329),Pe=n.n(Te),Re=n(330),Le=n.n(Re),Fe=n(331),Be=n.n(Fe),qe=n(332),He=n.n(qe),ze=n(333),We=n.n(ze),Ue=n(168),Ge=n.n(Ue),Je=n(334),Ye=n.n(Je),Ve=n(335),Xe=n.n(Ve),Ze=n(336),Qe=n.n(Ze),Ke=n(337),$e=n.n(Ke),et={Add:be.a,PanTool:xe.a,Sort:F.a,FiberManualRecordIcon:ye.a,RadioButtonUncheckedIcon:Se.a,Search:Oe.a,Clear:Ce.a,Start:Me.a,PlayArrowIcon:De.a,StopIcon:Ae.a,CheckBoxOutlineBlankIcon:Pe.a,RemoveCircle:Le.a,TabUnselected:Be.a,Crop75:He.a,AspectRatio:We.a,VisibilityOff:Ge.a,SelectAll:Ye.a,GetApp:Xe.a,Brush:Qe.a,DragHandleIcon:$e.a},tt=["#c6e0d6","#8fcab4","#67aca9","#5d83d2","#6b56dd","#9e93a1"],nt=tt[0],at=tt[3],rt=tt[5],it=[{icon:"PlayArrowIcon",color:"#d1d1d1",id:"startedProvenance",name:"Began Task",type:"raw",hidden:!1},{icon:"StopIcon",color:"#d1d1d1",id:"Finished Task",name:"Finished Task",type:"raw",hidden:!1},{icon:"Add",color:nt,id:"Select Answer",name:"Select Answer",type:"raw",hidden:!1},{icon:"PanTool",color:tt[1],name:"Dragged Node",id:"Dragged Node",type:"raw",hidden:!1},{icon:"Sort",color:tt[2],id:"sort",name:"Sort",type:"raw",hidden:!1},{icon:"FiberManualRecordIcon",color:at,id:"attrRow",name:"Select Node [Attr Row]",type:"raw",hidden:!1},{icon:"RadioButtonUncheckedIcon",color:nt,id:"Unselect Answer",name:"Unselect Answer"},{icon:"FiberManualRecordIcon",color:at,id:"Select Node",name:"Selected Node",type:"raw",hidden:!1},{icon:"FiberManualRecordIcon",color:at,id:"rowLabel",name:"Select Node[rowLabel]"},{icon:"FiberManualRecordIcon",color:at,id:"colLabel",name:"Neighbor Highlight",type:"raw",hidden:!1},{icon:"Search",color:tt[4],id:"search",name:"Search",type:"raw",hidden:!1},{icon:"FiberManualRecordIcon",color:at,id:"cell",name:"Edge Select",type:"raw",hidden:!1},{icon:"RadioButtonUncheckedIcon",color:at,id:"Unselect Node",name:"Unselect Node",type:"raw",hidden:!1},{icon:"Clear",color:rt,id:"clear",name:"Clear Selections",type:"raw",hidden:!1},{icon:"Clear",color:rt,id:"clearGroup",name:"Cleared Group",type:"group",hidden:!1,elements:[{icon:"Clear",color:rt,id:"clear",name:"Clear Selections",type:"raw",hidden:!1},{icon:"RadioButtonUncheckedIcon",color:at,id:"Unselect Node",name:"Unselect Node",type:"raw",hidden:!1}]}];var ot=r.a.createContext({});function ct(e){var t={};return e.forEach((function(e){var n={};n[e.id]=e,Object.assign(t,n)})),t}var lt=function(e){var t=e.children,n=r.a.useState(null),i=Object(h.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(0),s=Object(h.a)(l,2),u=s[0],d=s[1],m=ge(Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),[u]),p=Object(h.a)(m,3),f=(p[0],p[1],p[2]);Object(a.useEffect)((function(){if(f){var e=f.filter((function(e){return"event"!==e.type}));x(e)}}),[f]);var g=Object(a.useState)([]),b=Object(h.a)(g,2),v=b[0],x=b[1],E=Object(a.useState)(ct(it)),y=Object(h.a)(E,2),k=y[0],S=y[1];Object(a.useEffect)((function(){S(ct(v))}),[v]);var w,O,j=Object(a.useState)(),C=Object(h.a)(j,2),I=C[0],M=C[1],_=Object(a.useState)(!1),D=Object(h.a)(_,2),N=D[0],A=D[1],T=Object(a.useState)(),P=Object(h.a)(T,2),R=P[0],L=P[1],F=Object(a.useState)(),B=Object(h.a)(F,2),q=B[0],W=B[1],G=r.a.useState(null),J=Object(h.a)(G,2),Y=J[0],V=J[1];I&&(w=I.conditions,O=I.metrics);var X=Object(a.useState)(),K=Object(h.a)(X,2),ee=K[0],te=K[1];function ne(){return(ne=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dywootto handle provenance node click",t),"545d6768fdf99b7f9fca24e3",e.next=4,U(t.id);case 4:(n=e.sent).success&&(a=n.data.map((function(e){return{id:e.id,name:e.actionID,time:e.elapsedTime,nodeID:e.nodeID,url:e.url,participantId:e.participantID,uniqueId:e.uniqueID}})),V(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=ge(Object(z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requesting tasklist from server "),e.next=3,ce();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),[]),oe=Object(h.a)(re,3),le=oe[1],se=oe[2];Object(a.useEffect)((function(){se&&c(se[0].taskID)}),[se]);var ue=ge(Object(z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requesting task overview for ",R[0]),e.next=3,$(R[0].taskID);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),[R,u]),de=Object(h.a)(ue,3),me=(de[0],de[1],de[2]),pe=ge(Object(z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requesting timeline data from server "),e.next=3,ie();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),[]),fe=Object(h.a)(pe,3)[2];function he(e){return new Promise((function(t){return setTimeout(t,e)}))}Object(a.useEffect)((function(){console.log("timeline data from server",fe),W(fe)}),[fe]),Object(a.useEffect)((function(){me&&(M(me),A(!N))}),[me]),ge(Object(z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me&&(console.log("get remaining tasks "),$().then((function(e){console.log("newTaskData",e.data),M(e.data)})));case 1:case"end":return e.stop()}}),e)}))),[me]),Object(a.useEffect)((function(){console.log("taskList from server",se),L(se)}),[se]);var be=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(200);case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ve=Object(a.useState)("name"),xe=Object(h.a)(ve,2),Ee=(xe[0],xe[1]),ye=r.a.useState([]),ke=Object(h.a)(ye,2),Se=ke[0],we=ke[1],Oe=ge(Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(o);case 2:return(t=e.sent).data=t.data.map((function(e){try{e.sequence=JSON.parse("[".concat(e.sequence,"]"))}catch(t){console.error("[Provenance Data Context] Error Parsing ".concat(e.participantID,"'s event sequence. This is likely caused by the sequence being > 16k characters.")),e.sequence=[]}return e})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[o,u]),je=Object(h.a)(Oe,3),Ce=(je[0],je[1],je[2]);return Object(a.useEffect)((function(){we(Ce)}),[Ce]),r.a.createElement(ot.Provider,{value:{currentTaskData:Se,handleChangeSelectedTaskId:function(e){c([e.target.value])},selectedTaskId:o,data:I,loadingTaskList:le,taskList:R,timelineData:q,metrics:O,setTaskSort:Ee,homeTaskSort:ee,setHomeTaskSort:te,conditions:w,handleTagCreation:be,handleProvenanceNodeClick:function(e){return ne.apply(this,arguments)},currentlyVisitedNodes:Y,setCurrentlyVisitedNodes:V,actionConfigurations:k,setActionConfigurationsList:function(e){(function(e){return Z.apply(this,arguments)})(e).then((function(t){!function(e,t){if(e.length!==t.length)return!0;for(var n=function(n){for(var a=Object.keys(e[n]).filter((function(a){return JSON.stringify(e[n][a])!==JSON.stringify(t[n][a])})),r=0;r<a.length;r++)if("elements"===a[r]||"hidden"===a[r]||"id"===a[r])return{v:!0}},a=0;a<e.length;a++){var r=n(a);if("object"===typeof r)return r.v}return!1}(v,e)?x(e):d(u+1)}))},actionConfigurationsList:v}},t)};var st=ot,ut=n(746),dt=n(338),mt=n.n(dt),pt=function(e){var t=e.node,n=e.configToUse,i=Object(a.useContext)(st).actionConfigurations;n&&(i=n);var o=i,c=o[t.name]?o[t.name]:{icon:"Add",color:"#fff"},l=et[c.icon];return l||(l=function(){return r.a.createElement("g",null)}),r.a.createElement(O.a,{TransitionComponent:ut.a,TransitionProps:{timeout:600},title:"".concat(t.name," ").concat(t.count?"[".concat(t.count,"]"):""),PopperProps:{popperOptions:{modifiers:{offset:{enabled:!0,offset:"0px, -6px"}}}},arrow:!0},r.a.createElement("svg",{width:34,height:34},r.a.createElement("rect",{x:0,y:0,width:30,height:30,rx:5,fill:c.color,opacity:t.scale||1}),r.a.createElement("g",{transform:"translate(7,5)"},r.a.createElement(l,{width:16,height:16}))))},ft=function(e){var t=e.nodes,n=e.selectedItemId,a=e.hoveredItemId,i=e.handleHover,o=void 0===i?function(){}:i,c=e.handleProvenanceNodeClick,l=void 0===c?function(){}:c;return r.a.createElement("div",{className:mt.a.wrapper,style:{display:"flex",flexDirection:"row"}},t.map((function(e,t){var i=function(e,t,n){var a;return(t&&e.id!==t||n&&e.id!==n)&&(a=.1),e.id!==n&&e.id!==t||(a=1),a}(e,n,a);return r.a.createElement("div",{key:t,style:{opacity:i},onMouseEnter:function(){return o(e.id)},onMouseLeave:function(){return o(null)},onClick:function(){return l(e)}},r.a.createElement(pt,{node:e}))})))},gt=n(756),ht=Object(C.a)({overrides:{MuiTableCell:{root:{padding:10}}}}),bt=Object(b.a)({root:{minWidth:275,flexGrow:1},table:{padding:"10px"},sortable:{cursor:"pointer",backgroundColor:"rgb(240,240,240)"},sorted:{fill:"#5d83d2"},media:{width:572,height:300},condition:{fontSize:"1em"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function vt(e,t){return B.g().range([10,e]).domain([0,t])}vt(40,1),vt(40,3.59);var xt=function(e){var t=e.allData,n=e.hoveredRow,a=e.hoveredRowColor,i=e.metric,o=e.vert,c=void 0!==o&&o,l=e.size,s=void 0===l?{width:150,height:200}:l,u=t.find((function(e){return e.metric==i}));if("text"==u.type||"longtext"==u.type){var d=c?s.width:900,m=c?s.height:80,p=c?20:m-10,f=Object.entries(u.count).sort((function(e,t){return e[1]>t[1]?-1:1})).slice(0,20),g=f.map((function(e){return e[0]})),h=B.a(f.map((function(e){return e[1]}))),b=B.g().domain(h).range([0,p]),v=B.f().domain(g).range([0,m]).padding(.65),x=v.bandwidth(),E=n?n.stats.find((function(e){return e.metric==i})):void 0,y=E?Object.entries(E.count).sort((function(e,t){return e[1]>t[1]?-1:1})).slice(0,20):[];c||(h=f.map((function(e){return e[0]})),g=[0,B.a(f.map((function(e){return e[1]})))[1]],v=B.g().domain(g).range([15,p]),b=B.f().domain(h).range([0,d]).padding(.5),x=b.bandwidth());var k=f.length<1,S=c?"translate(100px,0px)":"translate(10px,20px)";return k?null:r.a.createElement("svg",{width:d+10,height:m+20},r.a.createElement("g",{style:{transform:S}},r.a.createElement("line",{x1:0,y1:c?v.range()[0]:v.range()[1],x2:c?0:b.range()[1],y2:v.range()[1],style:{stroke:"rgb(0,0,0,0.25)",strokeWidth:1}}),f.map((function(e){var t=e[0],n=e[1],i=t+" : "+n,o=c?b(n)+5:b(t)-3,l=c?v(t)-x:m-v.range()[0];return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(O.a,{title:i},r.a.createElement("rect",{className:"count",key:"d_"+t,style:{opacity:a?.5:1,fill:"rgb(93, 131, 210)"},x:c?0:b(t),y:c?v(t):m-v.range()[0]-v(n),width:c?b(n):x,height:c?x:v(n)})),r.a.createElement(O.a,{title:i},r.a.createElement("text",{style:{fontSize:"1em",textAnchor:"start",transform:"translate("+o+"px,"+l+"px) rotate(270deg)"},x:0,y:0}," ",t," ")),a?"":r.a.createElement("text",{style:{fontSize:"1em",textAnchor:"middle"},x:c?-5:b(t)+x/2,y:c?v(t)-x:m-v.range()[0]-v(n)-2}," ",n," "))})),y.filter((function(e){return b(e[0])})).map((function(e){var t=e[0],n=e[1],i=t+" : "+n;b(c?n:t),c?v(t):v.range()[0];return r.a.createElement(r.a.Fragment,{key:"hovered"+t},r.a.createElement(O.a,{title:i},r.a.createElement("rect",{className:"count",key:"d_"+t,style:{fill:a},x:c?0:b(t),y:c?v(t):m-v.range()[0]-v(n),width:c?b(n):x,height:c?x:v(n)})),r.a.createElement("text",{style:{fontSize:"1em",textAnchor:"middle"},x:c?-5:b(t)+x/2,y:c?v(t)-x:m-v.range()[0]-v(n)-2}," ",n," "))}))))}return null};B.g().range([0,75]).domain([0,137]);function Et(e){var t,a=e.taskID,i=e.conditionName,o=e.classes,c="../static/taskImages/"+a+"_"+i+".png";try{t=n(429)("./"+a+"_"+i+".png")}catch(l){t=""}return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{mt:"5px",mb:"6px",mr:"10px",boxShadow:1},r.a.createElement(E.a,{style:{display:"inline-block"},className:o.media,component:"img",image:t,title:c})),r.a.createElement(S.a,{className:o.pos,variant:"overline",color:"primary"},"Stimulus"))}function yt(e){var t=e.row,n=e.hoveredRow,a=e.hoveredRowColor,i=e.clickedRow,o=e.clickedRowColor,c=Math.floor(6.25),l=Math.ceil(137/c),s=4*l,u=B.g().range([0,4]).domain([0,1]),d=B.g().range([0,25]).domain([0,c]),m=t.matchingSequences.map((function(e){return e.participantID})),p=[];p=i?i.matchingSequences.map((function(e){return e.participantID})):n?n.matchingSequences.map((function(e){return e.participantID})):[];var f=m.filter((function(e){return p.includes(e)}));return r.a.createElement("svg",{width:s+100,height:25},Array.from(Array(137).keys()).map((function(e){return r.a.createElement("rect",{key:e,x:u(Math.floor(e/c)),y:d(e%c)+1,width:3,height:3,style:{fill:e<f.length?a||"rgb(220, 220, 220)":e<t.count?n&&i?o:"rgb(150, 150, 150)":"rgb(220, 220, 220)"}})})),r.a.createElement("text",{x:u(l)+1,y:d(c/2),style:{fontWeight:"bold",alignmentBaseline:"middle",textAnchor:"start",fill:"rgb(150, 150, 150)"}},t.count),n?r.a.createElement("text",{x:u(l)+1+25,y:d(c/2),style:{fontWeight:"bold",alignmentBaseline:"middle",textAnchor:"start",fill:a}}," / "+f.length):r.a.createElement(r.a.Fragment,null),i&&n?r.a.createElement("text",{x:u(l)+1+55,y:d(c/2),style:{fontWeight:"bold",alignmentBaseline:"middle",textAnchor:"start",fill:o}},"/ "+(t.count-f.length)):r.a.createElement(r.a.Fragment,null))}function kt(e){var t=e.sorted,n=e.classes;return r.a.createElement("svg",{width:20,height:20,style:{paddingTop:"5px"}},r.a.createElement(F.a,{className:t?n.sorted:"",style:{transform:"rotate(-180deg)"},width:20,height:20}))}function St(e){var t=e.rows,n=e.hoveredRowColor,i=e.hoveredRow,o=void 0===i?void 0:i,c=e.setHoveredRow,l=void 0===c?void 0:c,s=e.clickedRowColor,u=e.clickedRow,d=void 0===u?void 0:u,m=e.setClickedRow,p=void 0===m?void 0:m,f=bt(),b=Object(a.useState)({value:"Count",desc:{Count:!0,Pattern:!0}}),v=Object(h.a)(b,2),x=v[0],E=v[1];return t.sort((function(e,t){var n="Count"==x.value?e.count:e.seq.length,a="Count"==x.value?t.count:t.seq.length,r=x.desc[x.value]?-1:1;return n>a?r:-r})),r.a.createElement(I.a,{theme:ht},r.a.createElement(T.a,{style:{maxHeight:"300px"}},r.a.createElement(D.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(P.a,null,r.a.createElement(R.a,null,[{key:"Pattern",title:"Interaction Pattern"},{key:"Count",title:"Participant Count"}].map((function(e){return r.a.createElement(A.a,{key:e.key,onClick:function(){var t=(x=Object(g.a)({},x)).value==e.key;x.value=e.key,x.desc[e.key]=!t||!x.desc[e.key],E(x)},className:f.sortable}," ",e.title,r.a.createElement(kt,{classes:f,sorted:x.value==e.key}))})))),r.a.createElement(N.a,null,t.map((function(e,t){return r.a.createElement(R.a,{key:e.id,onMouseDown:function(){d==e?p():p(e)},onMouseEnter:function(){l(e)},onMouseLeave:function(){return l()},style:{background:d==e?"rgb(230,230,230)":o==e?"rgb(245,245,245)":"white"}},r.a.createElement(A.a,{component:"th",scope:"row",style:{width:"300px",padding:"10px"}},e.seq?r.a.createElement(ft,{nodes:e.seqObj,selectedItemId:void 0,handleProvenanceNodeClick:function(){}}):e.answer),e.seq?r.a.createElement(A.a,{align:"left"},r.a.createElement(yt,{row:e,hoveredRow:o,hoveredRowColor:n,clickedRow:d,clickedRowColor:s})):r.a.createElement(r.a.Fragment,null))}))))))}function wt(e){var t=e.data,n=e.hoveredRow,a=e.metric,i=e.hoveredRowColor,o=e.clickedRow,c=e.clickedRowColor,l=t.find((function(e){return e.metric==a}));if("int"==l.type||"float"==l.type){var s;if(o&&n&&o==n)s=n?n.stats.find((function(e){return e.metric==a})):void 0,console.log("showing metrics for ",n.matchingSequences.length);else if(o){var u=n?o.intersections.find((function(e){return e.id==n.id})):void 0;s=u?u.stats.find((function(e){return e.metric==a})):void 0,u&&console.log("showing metrics for ",u.matchingSequences.length)}else s=n?n.stats.find((function(e){return e.metric==a})):void 0;var d=s?s.ci:void 0,m=o&&o!==n?c:i;return r.a.createElement(gt.a,{key:a+"_hist",item:!0},r.a.createElement(Ot,{hoveredRowColor:m,data:s||l,ci:d||l.ci}),r.a.createElement(S.a,{style:{display:"block"},color:"primary",variant:"overline"},a))}return r.a.createElement(r.a.Fragment,null)}var Ot=function(e){var t=e.data,n=e.hoveredRowColor,i=e.ci,o=e.size,c=void 0===o?{width:100,height:40}:o,l=Object(a.useState)(!1),s=Object(h.a)(l,2),u=s[0],d=s[1],m=i[0],p=i[1],f=i[2],g=c.width,b=c.height,v=B.a(t.bins),x=B.a(t.hist),E=B.g().domain(v).range([10,g-40]),y=B.g().domain(x).range([0,20]),k=E(t.bins[1])-E(t.bins[0])-2,S=Math.round(10*m)/10;return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{style:{transform:"translate(-10px,0px)"},width:g,height:b,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},r.a.createElement("g",{transform:"translate(10,0)"},r.a.createElement("line",{x1:0,y1:y.range()[1],x2:E.range()[1],y2:y.range()[1],style:{stroke:"rgb(0,0,0,0.25)",strokeWidth:1}}),t.hist.map((function(e,a){return r.a.createElement("rect",{className:"count",key:"d_"+t.bins[a],style:{fill:n||"rgb(149 149 149)"},x:E(t.bins[a])+1,y:20-y(e),width:k,height:y(e)})})),r.a.createElement("circle",{className:"count",style:{fill:"#ff5e00",opacity:1},cx:E(m),cy:y.range()[1]/2,r:5}),r.a.createElement("line",{className:"count",style:{stroke:"black",strokeWidth:2,opacity:.5},x1:E(p),x2:E(f),y1:y.range()[1]/2,y2:y.range()[1]/2}),r.a.createElement("text",{style:{fontSize:"1em",textAnchor:"middle"},x:E(m),y:40}," ",S," "),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("text",{style:{fill:"rgb(0,0,0,0.25)",fontSize:"1em",textAnchor:"end"},x:-2,y:23}," ",Math.floor(E.domain()[0])," "),r.a.createElement("text",{style:{fill:"rgb(0,0,0,0.25)",fontSize:"1em",textAnchor:"start"},x:E.range()[1]+2,y:23}," ",Math.ceil(E.domain()[1])," ")):null)))};function jt(e){var t,n,i,o=e.condition,c=e.conditionName,l=e.classes,s=e.taskID,u=Object(a.useState)(),d=Object(h.a)(u,2),m=d[0],p=d[1],g=Object(a.useState)(),b=Object(h.a)(g,2),v=b[0],x=b[1],E=Object(a.useState)(!1),y=Object(h.a)(E,2),k=y[0],O=y[1];return t=o.patterns[0].topK,n=o.stats,i=Object(f.a)(new Set(n.map((function(e){return e.metric})))),t.map((function(e,t){return e.id=t,e.seqObj=e.seq.map((function(t){return{name:t,id:t,count:e.count}})),e})),i?r.a.createElement(r.a.Fragment,{key:"ConditionCard_"+c},r.a.createElement(S.a,{onClick:function(){O(!k)},style:{cursor:"pointer"},className:l.condition,variant:"overline"},c),k?r.a.createElement(r.a.Fragment,null):r.a.createElement(gt.a,{container:!0,className:l.root,spacing:2},r.a.createElement(gt.a,{item:!0,xs:12},r.a.createElement(gt.a,{container:!0,justify:"flex-start",spacing:2},r.a.createElement(gt.a,{key:"cat",item:!0},r.a.createElement(Et,{taskID:s,classes:l,conditionName:c})),r.a.createElement(gt.a,{key:"prov",item:!0},r.a.createElement(w.a,{height:300,width:600,mt:"5px",mb:"6px",mr:"10px",boxShadow:0,style:{overflow:"scroll"}},r.a.createElement(St,{rows:t,hoveredRow:m,hoveredRowColor:m?"#f59c3d":void 0,setHoveredRow:p,clickedRow:v,clickedRowColor:v?"#3d77f5":void 0,setClickedRow:x})),r.a.createElement(S.a,{className:l.pos,variant:"overline",color:"primary"},"Actions")),r.a.createElement(gt.a,{key:"performanceMetrics",item:!0,xs:!0},r.a.createElement(gt.a,{key:"performanceMetrics",item:!0,style:{display:"block"}},r.a.createElement(w.a,{height:120,p:"20px",mt:"5px",mb:"6px",mr:"10px",style:{overflow:"scroll",display:"inline-flex"},boxShadow:1},i.map((function(e){return r.a.createElement(wt,{key:e,data:n,hoveredRow:m,hoveredRowColor:m?"#f59c3d":void 0,clickedRow:v,clickedRowColor:v?"#3d77f5":void 0,metric:e})}))),r.a.createElement(S.a,{className:l.pos,variant:"overline",color:"primary",style:{display:"block"}},"Performance Metrics")),r.a.createElement(gt.a,{key:"qualData",item:!0,xs:!0},r.a.createElement(w.a,{height:120,width:1,mt:"5px",mb:"6px",mr:"10px",boxShadow:1,style:{overflow:"scroll"}},i.map((function(e){return r.a.createElement(xt,{key:e,allData:n,hoveredRow:m,hoveredRowColor:m?"#f59c3d":void 0,metric:e})}))),r.a.createElement(S.a,{className:l.pos,variant:"overline",color:"primary"},"Word Counts for Qualitative Responses")))))),r.a.createElement(j.a,null)):r.a.createElement(r.a.Fragment,null)}function Ct(e){var t=e.task,n=e.classes,i=Object(a.useState)(!1),o=Object(h.a)(i,2),c=o[0],l=o[1];return r.a.createElement(w.a,{m:2,key:"box_"+t.taskID},r.a.createElement(v.a,{className:n.root,key:t.taskID},r.a.createElement(y.a,null,r.a.createElement(S.a,{variant:"h5",component:"h2",onClick:function(){l(!c)},style:{cursor:"pointer",display:"inline-block"}},t.name),r.a.createElement(S.a,{className:n.pos,color:"textSecondary",style:{display:"inline-block",marginLeft:"10px"}},t.prompt+"  ["+t.answer+"]"),r.a.createElement(j.a,null),c?r.a.createElement(r.a.Fragment,null):Object.keys(t.conditions).map((function(e){var a=t.conditions[e];return r.a.createElement(jt,{key:t.taskID+e,condition:a,conditionName:e,taskID:t.taskID,classes:n})}))),c?r.a.createElement(r.a.Fragment,null):r.a.createElement(x.a,null,r.a.createElement(k.a,{size:"small"},"Explore"))))}function It(){var e=bt(),t=(e.bullet,Object(a.useContext)(st)),n=t.data,i=t.homeTaskSort;function o(e,t,n){var a=Object.keys(e.conditions),r=[];return a.map((function(a){if(t[a]){var i=e.conditions[a].stats.find((function(e){return e.metric==n}));r.push(i.ci[1])}})),r}if(n&&i){console.log("homeTaskSort",i);var c=i.metric,l=i.desc,s=i.conditions;n.tasks.sort((function(e,t){var n,a;if("name"==c)n=e[c],a=t[c];else{var r=o(e,s,c),i=o(t,s,c);n=l?Math.max.apply(Math,Object(f.a)(r)):Math.min.apply(Math,Object(f.a)(r)),a=l?Math.max.apply(Math,Object(f.a)(i)):Math.min.apply(Math,Object(f.a)(i))}var u=l?-1:1;return n>a?u:-u})),n.taskList.sort((function(e,t){var a=n.tasks.find((function(t){return t.taskID==e})),r=n.tasks.find((function(e){return e.taskID==t}));return a&&r&&n.tasks.indexOf(a)>n.tasks.indexOf(r)?1:-1})),console.log("done sorting")}B.g().domain([0,800]).range([.3,1]);return void 0==n?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,n.taskList.map((function(t){var a=n.tasks.find((function(e){return e.taskID==t}));return a?r.a.createElement(Ct,{key:a.name,task:a,classes:e}):r.a.createElement(M.a,{key:t,variant:"rect",width:"98%",height:500,style:{margin:"20px",padding:"20px"}},"Loading ",t)})))}var Mt,_t,Dt,Nt=Object(b.a)({root:{minWidth:275,flexGrow:1},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function At(){var e=Nt(),t=(e.bullet,Object(a.useContext)(st)),n=t.data,i=t.timelineData;function o(e){m!==e.uniqueID&&p(e.uniqueID)}Object.assign(n,i),Object(a.useEffect)((function(){n&&(c=n.participants).map((function(e){e.study.map((function(e){e.uniqueID=e.eventID+"_"+Math.random()}))}))}),[n]);var c,l,s,u=Object(a.useState)(),d=Object(h.a)(u,2),m=d[0],p=d[1];if(n){var g=(c=n.participants).map((function(e){return e.study.map((function(e){return e.level}))})).flat();Dt=Object(f.a)(new Set(c.map((function(e){return e.study.map((function(e){return e.category}))})).flat())),Mt=B.a(c,(function(e){return e.minutesToComplete})),_t=B.a(g),s="condition",l=c.reduce((function(e,t){return(e[t[s]]=e[t[s]]||[]).push(t),e}),{})}B.g().domain([0,800]).range([.3,1]);return void 0==n?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,{key:"events"},r.a.createElement(w.a,{m:2,style:{display:"inline-block"}},r.a.createElement(v.a,{className:e.root,key:"participantOverview"},r.a.createElement(y.a,null,r.a.createElement(S.a,{variant:"h5",component:"h2"},"Participant Timeline"),r.a.createElement(j.a,null),r.a.createElement(w.a,{mt:2},r.a.createElement(gt.a,{container:!0,className:e.root,spacing:2},Object.keys(l).map((function(e){return r.a.createElement(gt.a,{item:!0,xs:12,key:e},r.a.createElement(gt.a,{container:!0,justify:"flex-start",spacing:2},r.a.createElement(j.a,null),l[e].slice(0,5).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{key:e.participantID,item:!0},r.a.createElement(w.a,{borderBottom:1,boxShadow:0,p:1,style:{borderColor:"rgba(171, 171, 171, 0.5)"}},r.a.createElement(S.a,{style:{display:"block"},color:"primary",variant:"overline"},"ParticipantID: "+e.participantID),r.a.createElement(S.a,{style:{display:"block"},color:"primary",variant:"overline"},"Avg. Accuracy: "+(Math.round(100*e.averageAccuracy)/100||void 0)),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:130,height:30},a=t.width,i=t.height,c=B.g().domain([0,Mt[1]]).range([0,a-40]),l=B.g().domain(_t).range([i,0]),s=["accuracy"],u=2,d=8,m=16,g=15,h=30,b=h,v=l.range()[0]+m+3,x=["rgb(0, 153, 179)","rgb(0, 138, 188)","rgb(0, 122, 189)","rgb(0, 104, 182)","rgb(42, 85, 168)","rgb(77, 65, 147)"],E=B.h(x).domain(Dt),y=function(e){return"task"==e.eventID?"rgba(171,171,171,0.5)":"browse away"==e.eventID?"black":E(e.category)},k=Math.max.apply(Math,Object(f.a)(e.map((function(e){return e.elapsedTime+e.duration})))),S=e.filter((function(e){return 0==e.level})),w=e.filter((function(e){return"task"==e.eventID&&e.taskID&&e.taskID})).sort((function(e,t){return e.elapsedTime>t.elapsedTime?1:-1})),O=1,j=[],C=w.map((function(e){var t=c(e.elapsedTime),n=c(e.elapsedTime)+b+8,a=j.find((function(e){return e.x<t})),r={};return r.data=e,a?(r.y=a.y,(j=j.filter((function(e){return e.y!==a.y}))).push({y:a.y,x:n,label:e.shortName}),j.sort((function(e,t){return e.y<t.y?-1:1}))):(O+=1,j.push({y:O,x:n,label:e.shortName}),r.y=O),r.labelWidth=b,r})),I={},M={},_={},D=["#e6550d","#3182bd"],N=[u,g-u],A=[u,h-2*u],T=function(e,t,a){var r=n.tasks.find((function(t){return t.taskID==e})),i={};if(r){var o=r.conditions[t.trim()].stats.find((function(e){return e.metric==a}));o&&(i.average=o.ci[0],i.lowerBound=o.ci[1],i.upperBound=o.ci[2],i.min=o.min,i.max=o.max)}return i};return C.map((function(e){e.data.stats={},s.map((function(t){e.data.stats[t]=T(e.data.taskID,e.data.condition,t)})),e.data.stats.time=T(e.data.taskID,e.data.condition,"time")})),s.map((function(e){I[e]=B.g().range(D).domain(n.metrics[e]),M[e]=B.g().range(N).domain(n.metrics[e])})),n.taskList.map((function(e){n.conditions.map((function(t){var n=T(e,t,"time");_[e]=B.g().range(A).domain([n.min,n.max])}))})),r.a.createElement("svg",{width:a,height:300},r.a.createElement("g",{style:{transform:"translate(0px, 200px)"}},e.map((function(e,t){var n=c(e.duration)>5?c(e.duration)-u:c(e.duration);return r.a.createElement(r.a.Fragment,{key:e.participantID+"_"+Math.random()},r.a.createElement("rect",{className:"count",key:"d_"+e.eventID+"_"+e.elapsedTime,onMouseOver:function(){return o(e)},onMouseOut:function(){return p(void 0)},style:{fill:y(e),opacity:"task"==e.eventID?.8:.6},x:c(e.elapsedTime)+u,y:l(e.level),width:n,height:"task"==e.eventID?m:m/2}))})),C.map((function(e){return r.a.createElement("line",{x1:c(e.data.elapsedTime)+u,y1:l(e.data.level)+15,x2:c(e.data.elapsedTime)+u,y2:l(e.y)+g,style:{stroke:"rgb(150,150,150)",strokeWidth:".8px"}})})),C.map((function(e){var t=_[e.data.taskID],n=r.a.createElement("g",{style:{transform:"translate("+(c(e.data.elapsedTime)+u)+"px, "+l(e.y)+"px)"}},r.a.createElement("rect",{className:"count",key:"background_"+e.data.eventID,style:{fill:"rgb(245,245,245)"},x:0,y:0,width:b,height:g}),r.a.createElement("line",{x1:0,y1:g,x2:e.labelWidth,y2:g,style:{stroke:"rgb(150,150,150)",strokeWidth:".8px"}}),r.a.createElement("text",{style:{fontSize:".75em",fontWeight:"bold",textAnchor:"start",fill:"rgb(90,90,90)",alignmentBaseline:"hanging"},x:2*u,y:u}," ",e.data.shortName," "));if(Object.keys(e.data.stats).includes("time")){l(e.y),Math.max(c(e.data.duration)+u,c(e.data.upperBound));var a=e.data.stats.time.average,i=a<e.data.duration,o=Math.min(a,e.data.duration),s=Math.abs(a-e.data.duration);r.a.createElement("g",{style:{transform:"translate("+(c(e.data.elapsedTime)+(b-h)+u)+"px, "+l(e.y)+"px)"}},r.a.createElement("line",{x1:t.range()[0],y1:g/2+1,x2:t.range()[1],y2:g/2+1,style:{stroke:"rgb(200,200,200)",strokeWidth:".8px"}}),r.a.createElement("rect",{x:t(o),y:2,width:Math.abs(t(a)-t(e.data.duration)),height:g-4,style:{fill:i?"#ff8d00":"rgb(53 130 184)",opacity:".8"}}),r.a.createElement("rect",{x:t(o),y:g/2,width:t(s),height:2,style:{fill:i?"#ff8d00":"rgb(53 130 184)",opacity:".8"}}),r.a.createElement("rect",{x:0,y:0,width:4,height:4,style:{fill:"black",opacity:"1",transform:"translate("+t(a)+"px,"+(g/2-2)+"px) rotate(45deg)"}}),r.a.createElement("rect",{x:0,y:0,width:4,height:4,style:{fill:"red",opacity:"1",transform:"translate("+t(e.data.duration)+"px,"+(g/2-2)+"px) rotate(45deg)"}}))}return r.a.createElement(r.a.Fragment,null," ",void 0," ",n,"   ")})),C.map((function(e){r.a.Fragment,s.map((function(t,n){var a=e.data.stats[t].average,i=e.data[t],o=M[t],s=I[t],m=Math.max(a,i);Math.abs(a-i);return r.a.createElement("g",{style:{transform:"translate("+(c(e.data.elapsedTime)+h+u+n*(d+u))+"px, "+l(e.y)+"px)"}},r.a.createElement("rect",{className:"count",key:"d_"+e.data.eventID+Math.random(),style:{fill:"black",opacity:1},x:0,y:g-o(a),width:"task"==e.data.eventID?d:0,height:1}),r.a.createElement("rect",{className:"count",key:"d_"+e.data.eventID+Math.random(),style:{fill:s(i),opacity:.8},x:0,y:g-o(m),width:"task"==e.data.eventID?d:0,height:Math.abs(o(a)-o(i))}))}));return r.a.createElement(r.a.Fragment,null)})),S.map((function(e){return r.a.createElement("text",{style:{fontSize:"1em",textAnchor:"start",fill:"rgb(90,90,90)"},x:c(e.elapsedTime),y:v+5}," ",e.label," ")})),r.a.createElement("text",{style:{fontSize:"1em",textAnchor:"start",fill:"rgb(90,90,90)"},x:c(k)+5,y:v-7}," ",Math.round(k)+" min"," ")))}(e.study,{width:1600,height:25}))))}))))}))))))))}var Tt=Object(b.a)({root:{minWidth:275,flexGrow:1},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function Pt(){var e=Tt(),t=(e.bullet,Object(a.useContext)(st).data);B.g().domain([0,800]).range([.3,1]);return void 0==t?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,t.tasks.map((function(n){var a=r.a.createElement(S.a,null,n.prompt);return r.a.createElement(w.a,{m:2,key:"box_"+n.taskID,style:{display:"inline-block"}},r.a.createElement(v.a,{className:e.root,key:n.taskID},r.a.createElement(y.a,null,r.a.createElement(S.a,{variant:"h5",component:"h2"},n.name),r.a.createElement(O.a,{title:a},r.a.createElement(S.a,{className:e.pos,color:"textSecondary"},n.prompt.slice(0,60))),r.a.createElement(j.a,null),Object.keys(n.conditions).map((function(a){var i=n.conditions[a],o=i.patterns[0].topK,c=i.stats,l=(Object(f.a)(new Set(c.map((function(e){return e.metric})))),B.g().domain([0,1]).range([0,35])),s=B.g().domain([0,1]).range([0,15]),u=B.h(B.i).domain(t.actions);return r.a.createElement(r.a.Fragment,{key:"taskcard_"+a},r.a.createElement(S.a,{variant:"overline"},a),r.a.createElement(gt.a,{container:!0,className:e.root,spacing:2},r.a.createElement(gt.a,{item:!0,xs:12},r.a.createElement(gt.a,{container:!0,justify:"flex-start",spacing:2},r.a.createElement(gt.a,{key:"prov",item:!0},r.a.createElement(r.a.Fragment,null,[0,1,2].map((function(e){var t=o[e].seq.map((function(t){return{event:t,id:t,count:o[e].count,scale:u(o[e].count)}})),n=[],a=1,i=[],c=.5,d=t.map((function(e,t){var r,o=l(t),s=5*e.event.length+30,u={};return u.data=e,(r=t%2==0?n.find((function(e){return e.x<o})):i.find((function(e){return e.x<o})))?(u.y=r.y,(i=i.filter((function(e){return e.y!==r.y}))).push({y:r.y,x:s,label:e.shortName}),i.sort((function(e,t){return e.y<t.y?-1:1}))):t%2==0?(a+=1,n.push({y:a,x:s,label:e.shortName}),u.y=a):(c-=1,i.push({y:c,x:s,label:e.shortName}),u.y=c),u.x=o,u.labelExtent=s,u}));return r.a.createElement(w.a,{mt:"5px",mb:"6px"},function(e){var t=e.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:e.x+12.5,y1:s(e.y),x2:e.x+12.5,y2:s(0)+25,style:{stroke:"rgb(150,150,150)",strokeWidth:"1.2px",strokeLinecap:"round"}}),r.a.createElement("line",{x1:e.x+12.5,y1:s(e.y),x2:e.x+12.5+3,y2:s(e.y),style:{stroke:"rgb(150,150,150)",strokeWidth:"1.2px"}}),r.a.createElement("rect",{className:"count",key:"background_"+e.event,style:{fill:u(e.data.event),stroke:"white",strokeWidth:"1px",rx:2},x:e.x,y:s(0),width:25,height:25}))})),n=e.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{className:"count",key:"background_"+e.event,style:{fill:"white",stroke:"white",strokeWidth:"1px"},x:e.x+12.5+3,y:s(e.y)-2,width:e.labelExtent,height:8}),r.a.createElement("text",{style:{fontSize:".75em",textAnchor:"start",fill:"rgb(90,90,90)"},x:e.x+12.5+5,y:s(e.y)+4}," ",e.data.event," "))}));return r.a.createElement("svg",{width:300,height:s(Math.max.apply(Math,Object(f.a)(e.map((function(e){return e.y})))))+50},r.a.createElement("g",{style:{transform:"translate(50px, 30px)"}},t," ",n))}(d))}))))))),r.a.createElement(j.a,null))})),r.a.createElement("div",null)),r.a.createElement(x.a,null,r.a.createElement(k.a,{size:"small"},"Explore"))))})))}var Rt=n(775),Lt=n(61),Ft=n(50),Bt=n(92),qt=n(707),Ht=n(769),zt=n(709),Wt=n(340),Ut=n.n(Wt),Gt=n(312),Jt=n(345),Yt=n.n(Jt),Vt=n(745),Xt=n(768);function Zt(){var e=Object(u.a)(["\n  ~ div {\n    transform: none !important;\n  }\n"]);return Zt=function(){return e},e}function Qt(){var e=Object(u.a)(["\n  display: flex;\n  user-select: none;\n  padding: 0.5rem;\n  margin: 0 0 0.5rem 0;\n  align-items: flex-start;\n  align-content: flex-start;\n  line-height: 1.5;\n  border-radius: 3px;\n  background: #fff;\n  border: 1px ",";\n"]);return Qt=function(){return e},e}var Kt=d.a.div(Qt(),(function(e){return e.isDragging?"dashed #000":"solid #ddd"}));Object(d.a)(Kt)(Zt());var $t=function(e){var t=e.actionConfigurations,n=e.setActionConfigurationsList,i=e.collapsed,o=e.handleActionItemEdit,c=e.isActionLegendEditing,l=e.hashMapConfig,s=Object(a.useRef)(null);function u(e){var a=t.findIndex((function(t){return t.id===e.id})),r=Object(f.a)(t);r[a]=e,n(r)}var d={};return t.forEach((function(e){d[e.id]=e})),r.a.createElement(Ft.a,{onDragEnd:function(e){var n,a,r=e.source,i=e.destination;if(i)switch(r.droppableId){case i.droppableId:a=Object(g.a)({},d),n=JSON.parse(JSON.stringify(a[i.droppableId])),u(n=Object.assign(n,{elements:an(d[r.droppableId].elements,r.index,i.index)})),a[i.droppableId]=n;break;case"ITEMS":if(a=Object(g.a)({},d),n=JSON.parse(JSON.stringify(a[i.droppableId])),n=Object.assign(n,{elements:rn(t,d[i.droppableId].elements,r,i)}),a[i.droppableId]=n,function(e){var t={},n=!1;return Object.entries(e).map((function(e){var a=Object(h.a)(e,2),r=(a[0],a[1]);"group"===r.type&&r.elements.forEach((function(e){t[e.id]?n=!0:t[e.id]=!0}))})),n}(a))return void console.error("cannot add duplicate items to group");u(n);break;default:a=Object(g.a)({},d);var o=JSON.parse(JSON.stringify(a[r.droppableId])),c=JSON.parse(JSON.stringify(a[i.droppableId])),l=on(d[r.droppableId].elements,d[i.droppableId].elements,r,i);o=Object.assign(o,{elements:l[r.droppableId]}),c=Object.assign(c,{elements:l[i.droppableId]}),u(o),u(c),a[r.droppableId]=o,a[i.droppableId]=c}}},r.a.createElement(ln,Object.assign({},e,{listRef:s})),s.current&&c&&r.a.createElement(cn,{hashMapConfig:l,actionConfigurationsList:t,handleAddConfigurationToList:function(e){var a=Object(f.a)(t);a.push(e),n(a)},reference:s.current,open:!i,handleActionItemEdit:o}))};var en=function(e){var t=Object(a.useState)(null),n=Object(h.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(!1),l=Object(h.a)(c,2),s=l[0],u=l[1],d=Object(a.useContext)(st),m=d.actionConfigurationsList,p=d.setActionConfigurationsList;Object(a.useEffect)((function(){x(m)}),[m]);var g=Object(a.useState)(m),b=Object(h.a)(g,2),v=b[0],x=b[1],E=Object(a.useMemo)((function(){return function(e){var t={};return e.forEach((function(e){var n={};n[e.id]=e,Object.assign(t,n)})),t}(v)}),[v]);return r.a.createElement("div",null,e.collapsed?null:s?r.a.createElement("div",null,r.a.createElement(k.a,{variant:"primary",onClick:function(){p(v),u(!1)}},"Apply Changes"),r.a.createElement(k.a,{variant:"secondary",onClick:function(){x(m),u(!1)}},"Cancel")):r.a.createElement(k.a,{variant:"primary",onClick:function(){return u(!0)}},"Edit Action List"),r.a.createElement($t,{hashMapConfig:E,isActionLegendEditing:s,setActionConfigurationsList:x,actionConfigurations:v,handleActionItemEdit:s?o:null,collapsed:e.collapsed}),i&&r.a.createElement(zt.a,{open:!!i,onClose:function(){return o(null)},style:{display:"flex",alignItems:"center",justifyContent:"center"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(tn,{actionConfiguration:i,handleActionConfigurationCancel:function(){return o(null)},handleActionConfigurationChange:function(e){var t=v.findIndex((function(t){return t.id===e.id})),n=Object(f.a)(v);n[t]=e,x(n),o(null)}})))},tn=function(e){var t=e.actionConfiguration,n=e.handleActionConfigurationChange,i=e.handleActionConfigurationCancel,o=Object(a.useState)(t),c=Object(h.a)(o,2),l=c[0],s=c[1];if(!t.id)return r.a.createElement("div",null);function u(e,t){var n=JSON.parse(JSON.stringify(l)),a={};a[e]=t,n=Object.assign(n,a),s(n)}return r.a.createElement("div",{style:{width:"300px",height:"500px",display:"flex",flexDirection:"column",backgroundColor:"white"}},r.a.createElement("div",{style:{order:0,margin:"auto"}},r.a.createElement(Gt.a,{value:l.id,onChange:function(e){return u("id",e.target.value)},disabled:!0,id:"standard-basic",label:"id"})),r.a.createElement("div",{style:{order:1,margin:"auto"}},r.a.createElement(Gt.a,{value:l.name,onChange:function(e){return u("name",e.target.value)},id:"standard-basic",label:"name"})),r.a.createElement("div",{style:{order:2,margin:"auto"}},r.a.createElement("label",{for:"colorPicker",className:"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-animated MuiInputLabel-shrink MuiFormLabel-filled"},"Action Color"),r.a.createElement(Ut.a,{name:"colorPicker",id:"colorPicker",defaultValue:l.color,value:l.color,onChange:function(e){u("color",e)}})),r.a.createElement("div",{style:{order:3,margin:"auto"}},r.a.createElement("label",{for:"deleteToggle",className:"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-animated MuiInputLabel-shrink MuiFormLabel-filled"},"raw"===l.type?"Hide Element":"Delete Element"),r.a.createElement(Xt.a,{id:"deleteToggle",checked:l.hidden,onChange:function(e){return u("hidden",!l.hidden)},name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}})),r.a.createElement("div",{style:{order:4}}),r.a.createElement("div",{style:{order:5,margin:"auto"}},r.a.createElement(k.a,{color:"primary",onClick:function(){return n(l)}},"Submit"),r.a.createElement(k.a,{onClick:i},"Cancel")))};function nn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var an=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(h.a)(r,1)[0];return a.splice(n,0,i),a},rn=function(e,t,n,a){var r=Array.from(e),i=Array.from(t),o=r[n.index];return i.splice(a.index,0,Object(g.a)(Object(g.a)({},o),{},{dragId:nn()})),i},on=function(e,t,n,a){var r=Array.from(e),i=Array.from(t),o=r.splice(n.index,1),c=Object(h.a)(o,1)[0];i.splice(a.index,0,c);var l={};return l[n.droppableId]=r,l[a.droppableId]=i,l},cn=function(e){var t=e.open,n=e.handleActionItemEdit,a=e.reference,i=e.handleAddConfigurationToList,o=e.actionConfigurationsList,c=e.hashMapConfig;return r.a.createElement("div",null,r.a.createElement(Vt.a,{open:t,id:"hidingpop",anchorEl:a,placement:"right-start"},r.a.createElement("div",{style:{backgroundColor:"white",width:"650px",height:"100%",padding:"8px",display:"flex",overflow:"auto",border:"1px lightgray solid"}},r.a.createElement(En,{hashMapConfig:c,actionConfigurationsList:o,handleAddConfigurationToList:i,handleEditActionConfiguration:n}))))},ln=function(e){var t=e.actionConfigurations,n=e.handleActionItemEdit,a=e.collapsed,i=e.listRef,o=e.hashMapConfig,c=r.a.useMemo((function(){return t.map((function(e){return Object.assign(e,{dragId:nn()})}))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:i},r.a.createElement(Ft.c,{droppableId:"ITEMS",isDropDisabled:!0},(function(e,t){return r.a.createElement("div",{ref:e.innerRef,isDraggingOver:t.isDraggingOver},c.map((function(e,t){return r.a.createElement(Ft.b,{isDragDisabled:a,key:e.dragId,draggableId:e.dragId,index:t},(function(t,i){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{isDragging:i.isDragging,style:t.draggableProps.style}),r.a.createElement(sn,{hashMapConfig:o,collapsed:a,handleActionItemEdit:n,actionConfiguration:e})),i.isDragging&&r.a.createElement("div",null,r.a.createElement(sn,{collapsed:a,hashMapConfig:o,handleActionItemEdit:n,actionConfiguration:e})))}))})),e.placeholder)}))))},sn=function(e){var t=e.actionConfiguration,n=e.handleActionItemEdit,a=e.collapsed,i=e.hashMapConfig;return r.a.createElement(qt.a,null,r.a.createElement(pt,{node:{name:t.id},configToUse:i}),!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht.a,{style:{maxWidth:"160px",overflow:"hidden",textOverflow:"truncate"}},t.name),n&&r.a.createElement(Yt.a,{style:{cursor:"pointer","margin-left":"auto"},onClick:function(){return n(t)}})))};function un(){var e=Object(u.a)(["\n  margin: 0 1rem;\n"]);return un=function(){return e},e}function dn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-content: center;\n  margin: 0.5rem;\n  padding: 0.5rem;\n  color: #000;\n  border: 1px solid #ddd;\n  background: #fff;\n  border-radius: 3px;\n  font-size: 1rem;\n  cursor: pointer;\n"]);return dn=function(){return e},e}function mn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-content: center;\n  padding: 0.5rem;\n  margin: 0 0.5rem 0.5rem;\n  border: 1px solid transparent;\n  line-height: 1.5;\n  color: #aaa;\n"]);return mn=function(){return e},e}function pn(){var e=Object(u.a)(["\n  margin: 0.5rem 0.5rem 1.5rem;\n"]);return pn=function(){return e},e}function fn(){var e=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 200px;\n"]);return fn=function(){return e},e}function gn(){var e=Object(u.a)(["\n  border: 1px\n    ",";\n  background: #fff;\n  padding: 0.5rem 0.5rem 0;\n  border-radius: 3px;\n  flex: 0 0 150px;\n  font-family: sans-serif;\n"]);return gn=function(){return e},e}function hn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  align-content: center;\n  user-select: none;\n  margin: -0.5rem 0.5rem -0.5rem -0.5rem;\n  padding: 0.5rem;\n  line-height: 1.5;\n  border-radius: 3px 0 0 3px;\n  background: #fff;\n  border-right: 1px solid #ddd;\n  color: #000;\n"]);return hn=function(){return e},e}function bn(){var e=Object(u.a)(["\n  ~ div {\n    transform: none !important;\n  }\n"]);return bn=function(){return e},e}function vn(){var e=Object(u.a)(["\n  display: flex;\n  user-select: none;\n  padding: 0.5rem;\n  margin: 0 0 0.5rem 0;\n  align-items: flex-start;\n  align-content: flex-start;\n  line-height: 1.5;\n  border-radius: 3px;\n  background: #fff;\n  border: 1px ",";\n"]);return vn=function(){return e},e}function xn(){var e=Object(u.a)(["\n  width: 310px;\n"]);return xn=function(){return e},e}var En=function(e){var t=e.handleAddConfigurationToList,n=e.handleEditActionConfiguration,a=e.actionConfigurationsList,i=e.hashMapConfig;return r.a.createElement("div",{style:{display:"flex"}},["sequence","group"].map((function(e){console.log();var o=a.filter((function(t){return t.type===e})).filter((function(e){return console.log(e),0===e.hidden||!1===e.hidden})),c={};return o.forEach((function(e){c[e.id]=e})),r.a.createElement(In,{hashMapConfig:i,listEvents:c,handleAddGroup:t,initialItems:a,handleEditActionConfiguration:n,type:e})})))},yn=d.a.div(xn()),kn=d.a.div(vn(),(function(e){return e.isDragging?"dashed #000":"solid #ddd"})),Sn=(Object(d.a)(kn)(bn()),d.a.div(hn()),d.a.div(gn(),(function(e){return e.isDraggingOver?"dashed #000":"solid #ddd"}))),wn=(Object(d.a)(Sn)(fn()),Object(d.a)(Sn)(pn())),On=d.a.div(mn()),jn=d.a.button(dn()),Cn=d.a.div(un());var In=function(e){var t=e.initialItems,n=e.type,i=e.handleAddGroup,o=e.handleEditActionConfiguration,c=e.listEvents,l=e.hashMapConfig;return console.log(t),Object(a.useEffect)((function(){console.log("in unique render of grouped list")}),[]),console.log(c),r.a.createElement("div",null,r.a.createElement(yn,null,r.a.createElement(jn,{onClick:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),a=Object(Lt.a)({},t,{id:t,name:"".concat(n,"-").concat(t),type:n,hidden:!1,icon:"Add",color:"#ddd",elements:[]});i(a[t])}},r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})),r.a.createElement(Cn,null,"Add ",n)),Object.keys(c).map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft.c,{key:e,droppableId:e},(function(t,n){return r.a.createElement(wn,{ref:t.innerRef,isDraggingOver:n.isDraggingOver},r.a.createElement("div",null,r.a.createElement(sn,{hashMapConfig:l,handleActionItemEdit:function(e){console.log("dywootto in actionitem edit",e),o(e)},actionConfiguration:c[e]})),c[e].elements.length?c[e].elements.map((function(e,t){return r.a.createElement(Ft.b,{key:e.dragId,draggableId:e.dragId,index:t},(function(t,n){var a=Object.assign({},e);return r.a.createElement(kn,Object.assign({ref:t.innerRef},t.draggableProps,{isDragging:n.isDragging,style:t.draggableProps.style}),r.a.createElement("div",t.dragHandleProps,r.a.createElement(sn,{hashMapConfig:l,actionConfiguration:a})))}))})):!t.placeholder&&r.a.createElement(On,null,"Drop items here"),t.placeholder)})))})),0===Object.keys(c).length&&r.a.createElement("span",null,"No ",n,"s have been created. Click Add ",n," to get started dragging items.")))},Mn=n(777),_n=Rt.a.Search,Dn=function(e){e.location,Object(a.useContext)(st).data;var t=r.a.useState(""),n=Object(h.a)(t,2);n[0],n[1];return r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(_n,{placeholder:"Create Event Type",enterButton:r.a.createElement(Mn.a,null),size:"large",style:{width:672}}),r.a.createElement("div",{style:{paddingTop:"15px"}},r.a.createElement(En,{handleEditActionConfiguration:function(e){return console.log(e)}})))},Nn=function(){return r.a.createElement("div",null,"This is export ")},An=n(228),Tn=n(230),Pn=n(11),Rn=n(40),Ln=n(354),Fn=n(129),Bn=n(357),qn=n.n(Bn),Hn=n(741),zn=n(157),Wn=n(152);var Un=function(e){var t=e.hovered,n=e.data,a=e.xScale,i=e.buckets,o=e.yScale,c=e.height,l=a.domain(),s=Object(h.a)(l,2),u=s[0],d=s[1],m=B.b().domain([u-.001,d+.001]).thresholds(i.map((function(e){return e.x1})))(n),p=B.d(n),f=r.a.createElement("g",{transform:"translate(".concat(1/3*10,",0)")},i.map((function(e,t){return r.a.createElement("g",{key:t},r.a.createElement("rect",{key:"old".concat(t),x:a(e.x0)-5,y:o(e.length),width:10,fill:"gray",opacity:.3,height:c-o(e.length)}),r.a.createElement("rect",{key:t,x:a(e.x0)-5,y:o(m[t].length),width:10,fill:"black",height:c-o(m[t].length)}))})));return r.a.createElement("g",null,r.a.createElement("rect",{width:a.range()[1]-a.range()[0],fill:"lightgray",x:0,y:c-1,height:1}),f,r.a.createElement("g",null,null!==p&&r.a.createElement("g",null,r.a.createElement("rect",{x:a(p),y:0,height:c,width:2,fill:"rgb(61, 119, 245)"}),r.a.createElement("text",{style:{fill:"rgb(61, 119, 245)",fontSize:"1em",textAnchor:"middle",stroke:"#fff","paint-order":"stroke","stroke-width":"2px"},x:a(p),y:c+14},p.toFixed(2)))),r.a.createElement("g",{className:"sample group dywootto"}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("text",{style:{fill:"rgb(0,0,0,0.25)",fontSize:"1em",textAnchor:"end",stroke:"#fff","paint-order":"stroke","stroke-width":"1px"},x:10,y:35}," ",Math.round(a.domain()[0])," "),r.a.createElement("text",{style:{fill:"rgb(0,0,0,0.25)",fontSize:"1em",textAnchor:"end",stroke:"#fff","paint-order":"stroke","stroke-width":"1px"},x:a.range()[1],y:35}," ",Math.round(a.domain()[1])," ")))},Gn=function(e){var t=e.width,n=e.height,i=e.onChange,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=o.current,a=Object(Wn.a)().extent([[0,0],[t,n]]).on("end",(function(){zn.c.selection||(zn.c.selection=[0,t]);console.warn("clear",zn.c),i(zn.c.selection)}));Object(Hn.a)(e).selectAll("g.brush").data([0]).enter().append("g").attr("class","brush"),Object(Hn.a)(e).select("g.brush").call(a)})),r.a.createElement("svg",{ref:o,height:n+15,width:t+10},r.a.createElement("g",{transform:"translate(5,0)"},e.children))},Jn=function(e){var t=e.data,n=e.xScale,a=e.buckets,i=e.yScale,o=e.height,c=e.setMinimum,l=e.setMaximum,s=n.range()[1],u=r.a.useState(!1),d=Object(h.a)(u,2),m=d[0],p=d[1];return r.a.createElement("div",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},r.a.createElement(Gn,{width:s,height:o,onChange:function(e){var t;2!==(null===(t=e)||void 0===t?void 0:t.length)&&(e=n.domain()),c(n.invert(e[0])),l(n.invert(e[1]))}},r.a.createElement(Un,{hovered:m,data:t,width:s,height:o,yScale:i,xScale:n,buckets:a})))},Yn=function(e){var t=e.data,n=e.xScale,i=e.buckets,o=e.height,c=e.yScale,l=e.onFilter,s=void 0===l?function(e){}:l,u=Object(a.useState)(B.e(t)),d=Object(h.a)(u,2),m=d[0],p=d[1],f=Object(a.useState)(B.c(t)),g=Object(h.a)(f,2),b=g[0],v=g[1],x=Vn(m,100),E=Vn(b,100);return Object(a.useEffect)((function(){s({filterMin:x,filterMax:E})}),[x,E]),r.a.createElement(Jn,{yScale:c,xScale:n,buckets:i,height:o,data:t,setMinimum:p,setMaximum:v})};function Vn(e,t){var n=Object(a.useState)(e),r=Object(h.a)(n,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),i}var Xn=n(223),Zn=n.n(Xn),Qn=n(116),Kn=n(358),$n=n.n(Kn),ea=(n(697),function(e){var t=e.tags,n=e.onTagChange,a=(e.isMaster,e.id);return console.log("dywootto",a),r.a.createElement("div",{id:a},r.a.createElement($n.a,{autofocus:!1,tags:t,allowNew:!0,handleDelete:function(e){var a=t.slice(0).splice(e,1);n("Delete",a)},handleAddition:function(e){n("Add",e)}}))}),ta=n(103),na=n.n(ta),aa=n(766),ra=n(359),ia=n.n(ra),oa=n(706),ca=n(360),la=n.n(ca);function sa(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}["Finished Task","Select Node","Searched for Node","Dragged Node","Unselect Node","search","colLabel","sort","attrRow","answerBox","cell","rowLabel","cleared all selected nodes","clear","Hard Unselected a Node","Hard Selected a Node"].map((function(e){return{id:sa(),label:e}}));function ua(e){return r.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"whitesmoke"}},r.a.createElement(Ft.c,{renderClone:(t=e.items,e.className,function(e,n,a){var i=t[a.source.index];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,style:e.draggableProps.style,className:n.isDragging?"dragging":""}),r.a.createElement(pt,{node:{name:i.id}})))}),droppableId:e.droppableId,isDropDisabled:!0},(function(t,n){return r.a.createElement("div",{ref:t.innerRef,className:e.className},e.items.map((function(e,t){var a=e.id===n.draggingFromThisWith;return r.a.createElement(r.a.Fragment,{key:e.id},a?r.a.createElement("div",{className:"react-beatiful-dnd-copy"}," ",r.a.createElement(pt,{node:{name:e.id}})):r.a.createElement(Ft.b,{draggableId:e.id,index:t},(function(t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{className:n.isDragging?"dragging":""}),r.a.createElement(pt,{key:"node-".concat(e.id),node:{name:e.id}})))})))})),t.placeholder)})));var t}function da(e){var t=r.a.useState(null),n=Object(h.a)(t,2),a=n[0],i=n[1],o=Boolean(a),c=o?"simple-popover":void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oa.a,{"aria-label":"Open Event List",onClick:function(e){i(e.currentTarget)}},r.a.createElement(ia.a,null)),r.a.createElement(aa.a,{id:c,open:o,anchorEl:a,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",{style:{overflow:"auto",width:"300px",height:"100px"}},r.a.createElement(ua,{droppableId:"SHOP",className:na.a.searchOptions,items:e.items}))))}function ma(e){return r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(Ft.c,{droppableId:"BAG",direction:"horizontal"},(function(t,n){return r.a.createElement("div",{ref:t.innerRef,className:na.a.searchBar},e.items.map((function(e,t){return r.a.createElement(Ft.b,{key:e.dragID,draggableId:e.dragID,index:t},(function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:t.draggableProps.style}),r.a.createElement(pt,{node:{name:e.id}}))}))})),t.placeholder)})))}var pa=function(e){return r.a.createElement(Ft.c,{droppableId:"DISCARD",isDropDisabled:!0},(function(t,n){return r.a.createElement("div",{ref:t.innerRef,className:e.className},r.a.createElement(oa.a,null," ",r.a.createElement(la.a,null)))}))},fa=function(e){var t=e.onFilter,n=void 0===t?function(e){}:t,i=Object(a.useContext)(st).actionConfigurationsList,o=(Object(a.useMemo)((function(){return i.map((function(e){var t=Object.assign({},e);return t=Object.assign(t,{dragID:sa()})}))}),[i]),r.a.useState([])),c=Object(h.a)(o,2),l=c[0],s=c[1];Object(a.useEffect)((function(){n&&n(l.length>0?l:null)}),[l]);var u=r.a.useCallback((function(e){var t=e.source,n=e.destination;if(n)switch(t.droppableId){case n.droppableId:s((function(e){return function(e,t,n){var a=e.splice(t,1),r=Object(h.a)(a,1)[0];return e.splice(n,0,r),Object(f.a)(e)}(e,t.index,n.index)}));break;case"SHOP":s((function(e){return function(e,t,n,a){var r=e[n.index];return t.splice(a.index,0,Object(g.a)(Object(g.a)({},r),{},{dragID:"copy".concat(sa())})),Object(f.a)(t)}(i,e,t,n)}))}else s((function(e){var n=Object(f.a)(e);return n.splice(t.index,1),n}))}),[l]);return r.a.createElement("div",{className:na.a.searchContainer},r.a.createElement(Ft.a,{onDragEnd:u},r.a.createElement("div",{className:na.a.outerSearchBar},r.a.createElement(ma,{items:l})),r.a.createElement("div",{className:na.a.outerSearchOptions},r.a.createElement(da,{items:i})),r.a.createElement("div",{className:na.a.outerSearchDiscard},r.a.createElement(pa,null))))},ga=n(378),ha=n(770),ba={mouseX:null,mouseY:null};function va(e){var t=e.text,n=void 0===t?void 0:t,i=e.tagDivId,o=e.rowData,c=r.a.useState(ba),l=Object(h.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)([]),m=Object(h.a)(d,2),p=m[0],g=m[1],b=Object(a.useState)(),v=Object(h.a)(b,2),x=v[0],E=v[1];console.log(n,p);var y=function(){var e,t=window.getSelection().toString();if(E(void 0),t.length>0){var n=Object(f.a)(p);n.push(t),g(n)}(null===(e=document.getElementById(i))||void 0===e?void 0:e.querySelectorAll("input"))&&setTimeout((function(){document.getElementById(i).querySelectorAll("input")[0].focus()}),500),u(ba)},k=n=n||"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ipsum purus, bibendum sit  amet vulputate eget, porta semper ligula. Donec bibendum vulputate erat, ac fringilla mi   finibus nec. Donec ac dolor sed dolor porttitor blandit vel vel purus. Fusce vel malesuada   ligula. Nam quis vehicula ante, eu finibus est. Proin ullamcorper fermentum orci, quis   finibus massa. Nunc lobortis, massa ut rutrum ultrices, metus metus finibus ex, sit amet   facilisis neque enim sed neque. Quisque accumsan metus vel maximus consequat. Suspendisse  lacinia tellus a libero volutpat maximus";return p.map((function(e){console.log("before",k),k=k.replace(e,"<tag>>"+e+"<tag>"),console.log("after",k)})),console.log(k),r.a.createElement("div",{onMouseUp:function(e){e.preventDefault(),console.log(window.getSelection().toString()),(window.getSelection().toString().length>0||x)&&u({mouseX:e.clientX-2,mouseY:e.clientY-4})}},p.length>0?r.a.createElement(S.a,null," ",k.split("<tag>").map((function(e,t){return">"==e[0]?(e=e.substring(1),console.log(o.tags,t),r.a.createElement(O.a,{title:"Interesting Pattern"},r.a.createElement("span",{onMouseDown:function(){return E(e)},style:{cursor:"pointer",backgroundColor:"rgb(255 153 0 / 24%)"}},e))):r.a.createElement("span",null,e)}))):r.a.createElement(S.a,null,n),r.a.createElement(ga.a,{keepMounted:!0,open:null!==s.mouseY,onClose:y,anchorReference:"anchorPosition",anchorPosition:null!==s.mouseY&&null!==s.mouseX?{top:s.mouseY,left:s.mouseX}:void 0},x?r.a.createElement(ha.a,{onClick:function(){var e=x,t=Object(f.a)(p).filter((function(t){return t!=e}));E(void 0),g(t),u(ba)}},"Remove Tag"):r.a.createElement(ha.a,{onClick:y},"Tag")))}var xa=function(e){var t,n,a=e.rowData,i=e.name,o=e.commonScale;return"time"===i&&(null===a||void 0===a?void 0:a.sequence)&&(n=a.sequence.map((function(e){return r.a.createElement("rect",{width:3,x:o(e.time),height:20,opacity:.25})}))),r.a.createElement("svg",{width:null===(t=o.range())||void 0===t?void 0:t[1],height:20},r.a.createElement("rect",{fill:"gray",width:o(a[i]),height:20}),n)},Ea=function(){function e(t){Object(Bt.a)(this,e),this.width=t.width,this.handleTagCreation=t.handleTagCreation,this.selectionIndicies=[]}return Object(Qn.a)(e,[{key:"generateColumnObject",value:function(){var e=this;return{title:"Notes",name:"None",cellStyle:{padding:"4px 16px"},width:this.width,customSort:function(e,t){return t.tags.length-e.tags.length},filterComponent:function(){return r.a.createElement("div",null)},render:function(t){return Array.isArray(t.tags)||(t.tags=[]),r.a.createElement(ea,{id:ya(t),tags:t.tags,onTagChange:function(n,a){if("Add"===n)t.tags.push(a);else{var r=t.tags.findIndex((function(e){var t;return e.name===(null===(t=a[0])||void 0===t?void 0:t.name)}));r>-1&&t.tags.splice(r,1)}e.handleTagCreation(t.participantID,t.taskID,a,n)}})}}}}]),e}();function ya(e){return"row".concat(e.id)}var ka=function(){function e(t,n,a){Object(Bt.a)(this,e),this.name=n,this.data=t,this.width=a.width?a.width:300,this.order=a.order,this.hideByDefault=a.hideByDefault}return Object(Qn.a)(e,[{key:"generateColumnObject",value:function(){var e=this;return{title:this.name,name:this.name,render:function(t){return r.a.createElement("div",{style:{"white-space":"normal"}},r.a.createElement(va,{text:t[e.name],tagDivId:"".concat(ya(t)),rowData:t}))},width:this.width,hideByDefault:this.hideByDefault,order:this.order}}}]),e}(),Sa=function(){function e(t,n,a){Object(Bt.a)(this,e),this.name=n,this.data=t,this.width=a.width?a.width:100,this.order=a.order,this.hideByDefault=a.hideByDefault}return Object(Qn.a)(e,[{key:"generateColumnObject",value:function(){var e=this;return{title:this.name,name:this.name,render:function(t){return r.a.createElement("span",null,t[e.name]?t[e.name]:e.name)},width:this.width,hideByDefault:this.hideByDefault,order:this.order}}}]),e}(),wa=function(){function e(t,n,a,i){var o=this;Object(Bt.a)(this,e),this.name=n,this.data=t,this.type="quantitative",this.height=42.5,this.width=a.width?a.width:100,this.order=a.order,this.hideByDefault=a.hideByDefault,this.customSort=function(e,t){return e[o.name]-t[o.name]},this.handleFilterChange=i,this.customFilterAndSearch=function(e,t){return function(e,t){return t>=e.filterMin&&t<=e.filterMax}(e.value,t)},this.cellComponent=function(e){return r.a.createElement(xa,{rowData:e,name:o.name,commonScale:o.xScale})};var c=B.a(this.data,(function(e){return e[o.name]})),l=Object(h.a)(c,2),s=l[0],u=l[1];s>0&&(s=0),this.xScale=B.g().domain([s-.001,u+.001]).range([10,this.width-20]),this.yScale=B.g().range([this.height,0]);var d=this.xScale.nice(),m=B.b().domain(d.domain())(t.map((function(e){return e[o.name]})));this.yScale=this.yScale.domain([0,B.c(m,(function(e){return e.length}))]),this.buckets=m}return Object(Qn.a)(e,[{key:"generateColumnObject",value:function(){var e=this;return{title:this.name,name:this.name,width:this.width,type:this.type,customSort:this.customSort,render:this.cellComponent,order:this.order,hideByDefault:this.hideByDefault,customFilterAndSearch:this.customFilterAndSearch,groupedSummaryComponent:function(t){var n=t.incomingData;return r.a.createElement("div",{style:{pointerEvents:"all",opacity:.7}},r.a.createElement(Ia,{incomingData:n},(function(t){var n=t.partitionedData;return 0===n.length?r.a.createElement("div",null):r.a.createElement(Yn,{xScale:e.xScale,yScale:e.yScale,buckets:e.buckets,height:e.height,data:n.map((function(t){return t[e.name]}))})})))},filterComponent:function(t){return r.a.createElement(Yn,Object.assign({},t,{xScale:e.xScale,yScale:e.yScale,buckets:e.buckets,height:e.height,onFilter:function(t,n,a){return e.handleFilterChange(e.name,t)},data:e.data.map((function(t){return t[e.name]}))}))}}}},{key:"setWidth",set:function(e){this.width=e,this.scale.range([0,this.width])}},{key:"setRender",set:function(e){this.cellComponent=e}}]),e}();var Oa=function(e){var t,n=e.incomingData;return(n=null===(t=n)||void 0===t?void 0:t.incomingData)&&n[0]?r.a.createElement(fa,{onFilter:e.onFilter}):r.a.createElement("div",null)};var ja=function(){function e(t,n,a,r){Object(Bt.a)(this,e),this.name=n,this.width=300,this.data=t,this.handleProvenanceNodeClick=a.handleProvenanceNodeClick,this.handleFilterChange=r,this.customFilterAndSearch=function(e,t){return n=e.value,a=t,!n||!a||function(e,t){return t.every((n=0,function(t){return n=e.indexOf(t,n)+1}));var n}(a.map((function(e){return e.name})),n.map((function(e){return e.id})));var n,a}}return Object(Qn.a)(e,[{key:"generateColumnObject",value:function(){var e=this;return{title:"Events Used",name:this.name,width:this.width,customSort:function(e,t){return e.sequence.length-t.sequence.length},customFilterAndSearch:this.customFilterAndSearch,render:function(t){return n=t,a=e.handleProvenanceNodeClick,r.a.createElement(ft,{nodes:n.sequence,handleProvenanceNodeClick:a});var n,a},groupedSummaryComponent:function(e){var t=e.incomingData;return console.log("in generate column object"),r.a.createElement(Ia,{incomingData:t},(function(e){var t=e.partitionedData;return 0===t.length?r.a.createElement("div",null):r.a.createElement(Ca,{incomingData:t})}))},type:"provenance",filterComponent:function(t){return r.a.createElement(Oa,{incomingData:{incomingData:e.data},onFilter:function(t,n,a){return e.handleFilterChange(e.name,t)}})}}}}]),e}(),Ca=Object(Fn.a)((function(e){var t=e.incomingData,n=Object(a.useMemo)((function(){return t.map((function(e){return{participantID:e.participantID,condition:e.condition,taskID:e.taskID}}))})),i=ge(Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),[]),o=Object(h.a)(i,3),c=o[0],l=o[1],s=o[2];return r.a.createElement("div",null,c&&r.a.createElement(M.a,{width:"150px",height:"35px",variant:"rect"}),l&&r.a.createElement("p",null,l),r.a.createElement("div",{style:{height:"60px",overflow:"auto"}},r.a.createElement(S.a,{style:{float:"left",marginTop:"20px"}},n.length," Participants"),s&&s[0].topK.map((function(e,t){return r.a.createElement("div",{key:"sequence".concat(t),style:{display:"inline-block",backgroundColor:"whitesmoke",borderRadius:"20px",padding:"4px",margin:"10px"}},r.a.createElement("div",{style:{float:"left"}},r.a.createElement(ft,{nodes:e.sequence.map((function(e){return{name:e}})),handleProvenanceNodeClick:console.log})),r.a.createElement("span",{style:{float:"right"}}," ",e.count))}))," "))}));var Ia=Object(Fn.a)((function(e){var t=e.incomingData,n=e.children,i=Object(a.useState)([]),o=Object(h.a)(i,2),c=o[0],l=o[1];return Object(a.useEffect)((function(){console.log("in groupdata useEffect!!!"),t&&t.length>0&&l(t)}),[t.length]),_.isFunction(n)?n({partitionedData:c}):r.a.createElement("div",null)}));function Ma(e,t){var n=("string"===typeof e?e:e.toString()).split(".");if(t<=0)return n[0];var a=n[1]||"";if(a.length>t)return"".concat(n[0],".").concat(a.substr(0,t));for(;a.length<t;)a+="0";return"".concat(n[0],".").concat(a)}var _a=Object(Fn.a)((function(e){e.provenanceData;var t=e.column,n=(e.row,e.children.props.columnSummaries[0].value),a=function(){return r.a.createElement("div",null)};return t.groupedSummaryComponent&&(a=t.groupedSummaryComponent),r.a.createElement(Rn.l.GroupCell,e,r.a.createElement(a,{incomingData:n,partitionedData:n}))})),Da=function(e){e.value,e.other;var t,n=Object(An.a)(e,["value","other"]),a=Object.assign({},n);return n.column.filterComponent?(a.onFilter=n.onFilter,t=n.column.filterComponent):t=function(e){return r.a.createElement(Rn.h.Cell,e)},r.a.createElement(Rn.n.Cell,{style:{width:"100%"}},r.a.createElement(t,a))},Na=function(e){e.value,e.style;var t,n=Object(An.a)(e,["value","style"]);return n.column.render&&(t=n.column.render(n.row)),r.a.createElement(Rn.n.Cell,Object.assign({},n,{style:{margin:"16px"}}),t)};function Aa(e){e.xlsx.writeBuffer().then((function(e){qn()(new Blob([e],{type:"application/octet-stream"}),"DataGrid.xlsx")}))}function Ta(e,t,n,a){var r,i=function(e,t){return t[e]?t[e]:{hideByDefault:!0}}(e.COLUMN_NAME,n);return"int"===e.DATA_TYPE||"float"===e.DATA_TYPE?r=new wa(t,e.COLUMN_NAME,i,a):"text"===e.DATA_TYPE?r=new Sa(t,e.COLUMN_NAME,i,a):"longtext"===e.DATA_TYPE?r=new ka(t,e.COLUMN_NAME,i,a):"provenance"===e.DATA_TYPE?r=new ja(t,"sequence",i,a):"tag"===e.DATA_TYPE?r=new Ea(i):console.error("[DevExtremeTable.tsx] ERROR: Column Schema contains unkown column type ".concat(e.DATA_TYPE,".")),r}var Pa=function(e){var t=e.provenanceData,n=e.handleProvenanceNodeClick,i=e.tableSchema,o=e.handleTagCreation,c=Object(a.useRef)(null),l=r.a.useState([]),s=Object(h.a)(l,2),u=s[0],d=s[1],m=function(e,t){var n=u.findIndex((function(t){return t.columnName===e})),a=Object(f.a)(u);n>-1?a[n]={columnName:e,value:t}:a.push({columnName:e,value:t}),d(a)},p={participantID:{order:1},condition:{order:2},accuracy:{width:125,order:3},time:{width:200,order:4},sequence:{width:300,order:5,handleProvenanceNodeClick:n},notes:{width:200,order:6,handleTagCreation:o}};r.a.useEffect((function(){x(i.map((function(e){return Ta(e,t,p,m).generateColumnObject()})).sort((function(e,t){return e.order?t.order&&e.order>t.order?1:-1:1})))}),[t]);var g=Object(a.useState)(i.map((function(e){return Ta(e,t,p).generateColumnObject()})).sort((function(e,t){return e.order?t.order&&e.order>t.order?1:-1:1}))),b=Object(h.a)(g,2),v=b[0],x=b[1],E=Object(a.useState)([]),y=Object(h.a)(E,2),k=y[0],w=y[1],O=Object(a.useState)(t),j=Object(h.a)(O,2),C=j[0],I=j[1],M=Object(a.useCallback)((function(e){c.current.exportGrid(e)}),[c]);Object(a.useEffect)((function(){I(t)}),[t]);var _=Object(a.useState)([]),D=Object(h.a)(_,2),N=D[0],A=D[1],T=function(e,t,n){var a=t.customFilterAndSearch({value:n},e);return{value:a,key:"".concat(t.name,"-").concat(a)}},P=Object(a.useMemo)((function(){return v.map((function(e){if("quantitative"===e.type){var t=N.find((function(t){return t.columnName===e.name})),n=t?t.groupMetaData:{filterMin:.2,filterMax:1.2};return{columnName:e.name,criteria:function(t){return T(t,e,n)}}}if("provenance"===e.type){var a=N.find((function(t){return t.columnName===e.name})),r=a?a.groupMetaData:null;return{columnName:e.name,criteria:function(t){return T(t,e,r)}}}return{columnName:e.name}}))}),[v,N]),R=Object(a.useState)([v.map((function(e){return{columnName:e.name,showWhenGrouped:!0}}))]),L=Object(h.a)(R,1)[0],F=Object(a.useState)(v.map((function(e){return{columnName:e.name,width:e.width?e.width:100}}))),B=Object(h.a)(F,1)[0],q=Object(a.useState)(v.map((function(e){return{columnName:e.name,predicate:function(t,n,a){return e.customFilterAndSearch?e.customFilterAndSearch(n,t,a):Pn.i.defaultPredicate(t,n,a)}}}))),H=Object(h.a)(q,1)[0],z=Object(a.useState)(v.map((function(e){return{name:e.name,columnName:e.name,type:"custom",showInGroupFooter:!1,alignByColumn:!0}}))),W=Object(h.a)(z,1)[0],U=Object(a.useState)(v.filter((function(e){return e.hideByDefault})).map((function(e){return e.name}))),G=Object(h.a)(U,1)[0];return r.a.createElement(Tn.a,null,r.a.createElement(Rn.d,{rows:C,columns:v},r.a.createElement(Rn.b,null),r.a.createElement(Pn.g,{grouping:N,onGroupingChange:function(e){var t,n,a=null===(n=N,t=e.filter((function(e){return!n.some((function(t){return e.columnName===t.columnName}))})))||void 0===t?void 0:t[0];if(a){var r=u.find((function(e){return a.columnName===e.columnName}));r||(r={value:{filterMin:.5,filterMax:1.5}});var i=e.findIndex((function(e){return e.columnName===a.columnName}));e[i]=Object.assign(e[i],{groupMetaData:r.value})}A(e)},columnGroupingEnabled:!0,columnExtensions:L}),r.a.createElement(Pn.s,{groupItems:W}),r.a.createElement(Pn.j,{columnExtensions:P}),r.a.createElement(Pn.m,{calculator:function(e,t,n){return"custom"===e?t.length?t:null:t}}),r.a.createElement(Pn.d,{filters:u,onFiltersChange:d}),r.a.createElement(Pn.i,{columnExtensions:H}),r.a.createElement(Pn.p,{selection:k,onSelectionChange:function(e){w(e)}}),r.a.createElement(Pn.k,null),r.a.createElement(Rn.n,{cellComponent:Na,height:1e3}),r.a.createElement(Rn.g,{defaultHiddenColumnNames:G}),r.a.createElement(Rn.f,{defaultColumnWidths:B}),r.a.createElement(Rn.j,{showGroupingControls:!0}),r.a.createElement(Rn.k,{showSelectAll:!0}),r.a.createElement(Rn.h,{cellComponent:Da}),r.a.createElement(Rn.i,{rowComponent:function(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),i=n[0],o=n[1],c="Grouped Row",l=e.row.groupedBy,s=v.find((function(e){return e.name==l}));if(s)if("quantitative"===s.type){var u=N.findIndex((function(e){return e.columnName===l})),d=N[u];c=!0===e.row.value?"".concat("---".repeat(u)," Grouped on: ").concat(l," [").concat(Ma(d.groupMetaData.filterMin,2),",").concat(Ma(d.groupMetaData.filterMax,2),"]"):"".concat("---".repeat(u)," Grouped on: ").concat(l," is outside of range [").concat(Ma(d.groupMetaData.filterMin,2),", ").concat(Ma(d.groupMetaData.filterMax,2),"]")}else if("provenance"===s.type){var m=N.findIndex((function(e){return e.columnName===l})),p=N[m];c=!0===e.row.value?"".concat("---".repeat(m)," Grouped on provenance sequence:").concat(p.groupMetaData.map((function(e){return e.label})).join(",")):"".concat("---".repeat(m)," Grouped on not containing provenance sequence")}else c="".concat(l," is ").concat(e.row.value);return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:Zn.a.groupHeaderRow},r.a.createElement("td",{colSpan:42,onClick:function(){return o(!i)}},r.a.createElement(S.a,{className:Zn.a.groupHeaderContent,variant:"overline"},c))),!i&&r.a.createElement(Rn.i.Row,e,e.children))},columnExtensions:L,summaryCellComponent:function(e){return r.a.createElement(_a,Object.assign({columns:v,provenanceData:t},e))},contentComponent:function(){return r.a.createElement("div",null)},showColumnsWhenGrouped:!0,stubCellComponent:function(e){var t=!1;if(N.length>0){var n=e.tableRow.row.groupedBy;t=N[N.length-1].columnName===n}return r.a.createElement("td",{style:t?{display:"none"}:null})}}),r.a.createElement(Rn.m,null),r.a.createElement(Rn.c,{startExport:M}),r.a.createElement(Rn.a,null),r.a.createElement(Rn.e,{showGroupingControls:!0})),r.a.createElement(Ln.a,{ref:c,rows:C,columns:v,onSave:Aa,selection:k}))},Ra=n(361),La=n.n(Ra),Fa=n(362),Ba=function(e){var t=Object(a.useState)(1e3),n=Object(h.a)(t,2),i=n[0],o=n[1],c=Object(a.useContext)(st),l=c.currentTaskData,s=c.handleProvenanceNodeClick,u=c.handleTagCreation,d=Object(a.useState)(null),m=Object(h.a)(d,2),p=m[0],f=m[1],g=ge(Object(z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te("Performance");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[]),b=Object(h.a)(g,3),v=(b[0],b[1],b[2]);return Object(a.useEffect)((function(){var e=v,t=["id"],n=["participantID","answer"];e&&(e=(e=(e=(e=e.concat({COLUMN_NAME:"sequence",DATA_TYPE:"provenance",ORDINAL_POSITION:v.length})).concat({COLUMN_NAME:"notes",DATA_TYPE:"tag",ORDINAL_POSITION:v.length+2})).map((function(e){return e.hideAggregate=n.includes(e),e}))).filter((function(e){return!t.includes(e.COLUMN_NAME)}))),f(e)}),[v]),console.log("tableschema",p),!!(l&&l.length>0&&p)?r.a.createElement(Pa,{provenanceData:l,tableSchema:p,handleProvenanceNodeClick:s,handleTagCreation:u}):r.a.createElement("div",null,r.a.createElement(Fa.a,{bounds:!0,onResize:function(e){o(e.bounds.height)}},(function(e){return console.log("height",i),r.a.createElement("div",{ref:e,className:La.a.loader},r.a.createElement(M.a,{height:i,variant:"rect",animation:"wave"}))})))},qa=n(367),Ha=n.n(qa),za=n(364),Wa=n.n(za),Ua=n(366),Ga=n.n(Ua),Ja=n(365),Ya=n.n(Ja),Va=n(374);Object.freeze({adjMatrix:"AM",nodeLink:"NL"});var Xa=function(e){var t=e.nodes,n=e.selectedNode,i=r.a.useState(null),o=Object(h.a)(i,2),c=o[0],l=o[1],s=r.a.useState(null),u=Object(h.a)(s,2),d=u[0],m=u[1],p=r.a.useState(n.id),f=Object(h.a)(p,2),g=f[0],b=f[1],v=n.url;Object(a.useEffect)((function(){var e=t.findIndex((function(e){return e.id===g}));if(e>-1){var n=t[e];document.querySelector("#childFrame").contentWindow.postMessage(n.nodeID,"*")}}),[g]);var x=function(e){b(e===g?null:e)};function E(){x((function(e){e||x(t[0].id);var n=t.findIndex((function(t){return t.id===e}));return n===t.length-1||-1===n?t[0].id:t[n+1].id}))}return console.log("new url for iframe",v),r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("div",{style:{height:"85vh"}},r.a.createElement("iframe",{id:"childFrame",width:"100%",height:"100%",src:v})),r.a.createElement("div",{style:{margin:"0 auto",width:"fit-content",display:"grid",gridTemplateRows:"50px 50px",gridTemplateColumns:"min(max-content,1000)"}},r.a.createElement("div",{style:{gridRow:1,overflow:"scroll"}},r.a.createElement(ft,{hoveredItemId:d,handleHover:function(e){return m(e)},selectedItemId:g,nodes:t,handleProvenanceNodeClick:function(e){return x(e.id)}}),r.a.createElement(Va.a,null,(function(e){e.height;var n=e.width;return r.a.createElement(Za,{width:n,hoveredItemId:d,setHoveredItemId:function(e){return m(e)},selectedItemId:g,nodes:t,setSelectedItemId:function(e){return x(e.id)}})}))),r.a.createElement("div",{style:{gridRow:2,width:"100%",height:"100%"}},r.a.createElement("div",{style:{margin:"0 auto",display:"flex",justifyContent:"center"}},r.a.createElement(oa.a,{"aria-label":"delete",onClick:function(){g||x(t[0].id);var e=t.findIndex((function(e){return e.id===g}));e<1||x(t[e-1].id)}},r.a.createElement(Wa.a,null)),c&&r.a.createElement(oa.a,{"aria-label":"delete",onClick:function(){clearInterval(c),l(null)}},r.a.createElement(Ya.a,null)),!c&&r.a.createElement(oa.a,{"aria-label":"delete",onClick:function(){l(setInterval(E,1e3))}},r.a.createElement(Ga.a,null)),r.a.createElement(oa.a,{"aria-label":"delete",onClick:E},r.a.createElement(Ha.a,null))))))},Za=function(e){var t=e.width,n=e.nodes,i=e.setSelectedItemId,o=e.setHoveredItemId,c=e.selectedItemId,l=e.hoveredItemId;var s=Object(a.useMemo)((function(){return B.g().domain(B.a(n,(function(e){return e.time}))).range([5,t-5])}),[n,t]);return r.a.createElement("svg",{width:t,height:35},n.map((function(e,t){var n=function(e,t,n){var a;return(t&&e.id!==t||n&&e.id!==n)&&(a=.1),e.id!==n&&e.id!==t||(a=1),a}(e,c,l);return r.a.createElement("rect",{key:"item-".concat(t),onMouseEnter:function(){return o(e.id)},onMouseLeave:function(){return o(null)},onClick:function(){return i(e)},width:.75,x:s(e.time),height:20,opacity:n})})))},Qa=function(e){e.location;var t=Object(a.useContext)(st),n=t.currentlyVisitedNodes,i=t.setCurrentlyVisitedNodes;return console.log(n,i),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ba,null),n&&r.a.createElement(zt.a,{open:!0,onClose:function(){return i(null)},style:{backgroundColor:"whitesmoke"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(Xa,{nodes:n,selectedNode:n[0]})))};function Ka(){var e=Object(u.a)(["\n  .fade-enter {\n    opacity: 0.01;\n  }\n\n  .fade-enter.fade-enter-active {\n    opacity: 1;\n    transition: opacity 300ms ease-in;\n  }\n\n  .fade-exit {\n    opacity: 1;\n  }\n\n  .fade-exit.fade-exit-active {\n    opacity: 0.01;\n    transition: opacity 300ms ease-in;\n  }\n\n  div.transition-group {\n    position: relative;\n  }\n\n  section.route-section {\n    position: absolute;\n    width: 100%;\n    top: 0;\n    left: 0;\n  }\n"]);return Ka=function(){return e},e}var $a=d.a.div(Ka()),er=Object(c.h)((function(e){var t=e.location;return r.a.createElement($a,null,r.a.createElement(m.a,{className:"transition-group"},r.a.createElement(p.a,{key:t.key,timeout:500,classNames:"fade"},r.a.createElement("section",{className:"route-section"},r.a.createElement(c.d,{location:t},r.a.createElement(c.b,{path:"/Home",component:It}),r.a.createElement(c.b,{path:"/Study",component:At}),r.a.createElement(c.b,{path:"/Upload",component:Pt}),r.a.createElement(c.b,{path:"/Overview",component:Dn}),r.a.createElement(c.b,{path:"/Table",component:Qa}),r.a.createElement(c.b,{path:"/Export",component:Nn}))))))})),tr=n(368),nr=n(784),ar=n(49),rr=n(5),ir=n(369),or=n.n(ir),cr=n(782),lr=n(773),sr=n(774),ur=n(772),dr=n(767),mr=n(771),pr=n(373),fr=n.n(pr),gr=n(85),hr=n(765),br=n(778),vr=n(372),xr=n.n(vr),Er=n(370),yr=n.n(Er),kr=n(176),Sr=n.n(kr),wr=n(115),Or=n.n(wr),jr=n(371),Cr=n.n(jr),Ir=n(781);function Mr(e){var t=e.condition,n=e.visible,a=e.checkBoxCallback,i=r.a.useState(!0),o=Object(h.a)(i,2),c=o[0],l=o[1];return t&&n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ir.a,{checked:c,onChange:function(e){e.stopPropagation(),a(t,e.target.checked),l(e.target.checked)},color:"default",inputProps:{"aria-label":"checkbox with default color"}}),r.a.createElement(S.a,{color:"primary",variant:"overline"},t)):null}var _r=Object(b.a)({root:{minWidth:275,flexGrow:1,padding:"0px"},table:{padding:"10px"},condition:{fontSize:"1em",color:"white",paddingTop:"10px",cursor:"pointer"},sort:{cursor:"pointer",marginTop:"16px",marginLeft:"5px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function Dr(e){var t=e.option,n=e.index,i=e.handleMenuItemClickCallback,o=e.setHoveredRowCallback,c=e.hoveredRow,l=e.selectedIndex,s=e.conditions,u={};s.map((function(e){return u[e]=!0}));var d=Object(a.useState)(u),m=Object(h.a)(d,2),p=m[0],f=m[1];function b(e,t){var n=Object(g.a)({},p);n[e]=t,f(n)}var v=s.map((function(e){return r.a.createElement(Mr,{key:e,visible:(n==c||n==l)&&"global"!==t.type,condition:e,checkBoxCallback:b})}));return r.a.createElement(ha.a,{key:t.prompt,selected:n===l,onClick:function(e){return i(e,n,{desc:!0,metric:t.key,conditions:p})},onMouseEnter:function(){return o(n)},onMouseLeave:function(){return o(l)}},r.a.createElement("div",{style:{width:"150px"}}," ",r.a.createElement(S.a,{color:"primary",variant:"overline"},t.prompt)),r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},v))}function Nr(){var e=Object(a.useContext)(st),t=e.metrics,n=e.conditions,i=e.setHomeTaskSort,o=[{prompt:"by Task Name",key:"name",type:"global"}];t&&Object.keys(t).map((function(e){return o.push({prompt:"by "+e,key:e,type:"metric"})}));var c=_r(),l=r.a.useState(null),s=Object(h.a)(l,2),u=s[0],d=s[1],m=r.a.useState(0),p=Object(h.a)(m,2),f=p[0],g=p[1],b=function(e,t,n){g(t),i(n),d(null)},v=Object(a.useState)(f),x=Object(h.a)(v,2),E=x[0],y=x[1],k=function(e){y(e)};return n?r.a.createElement("div",{className:c.root,style:{display:"flex",flexDirection:"row-reverse"}},r.a.createElement(dr.a,{component:"nav","aria-label":"Sort tasks",className:c.root},r.a.createElement(qt.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Sort tasks",onClick:function(e){d(e.currentTarget)}},r.a.createElement(Ht.a,{primary:"Sort tasks",secondary:o[f].prompt}))),r.a.createElement(ga.a,{id:"lock-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:function(){d(null)}},o.map((function(e,t){return r.a.createElement(Dr,{key:e.prompt,hoveredRow:E,selectedIndex:f,conditions:n,setHoveredRowCallback:k,handleMenuItemClickCallback:b,option:e,index:t})})))):r.a.createElement(r.a.Fragment,null)}var Ar=Object(b.a)((function(e){return Object(nr.a)({root:{display:"flex"},typography:{fontSize:18},appBar:{"background-color":"#ababab",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:260,width:"calc(100% - ".concat(260,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:260,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:260,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(Lt.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}})})),Tr=function(e){var t,n;Object(tr.a)(e);var a=r.a.useContext(st),i=a.taskList,o=a.loadingTaskList,l=a.handleChangeSelectedTaskId,s=a.selectedTaskId,u=i&&s?i.find((function(e){return e.taskID==s})).prompt:"",d=Ar(),m=Object(ar.a)(),p=r.a.useState(!1),f=Object(h.a)(p,2),g=f[0],b=f[1],v=r.a.forwardRef((function(e,t){return r.a.createElement(gr.a,Object.assign({innerRef:t,to:"/Home"},e))})),x=r.a.forwardRef((function(e,t){return r.a.createElement(gr.a,Object.assign({innerRef:t,to:"/Study"},e))})),E=(r.a.forwardRef((function(e,t){return r.a.createElement(gr.a,Object.assign({innerRef:t,to:"/Upload"},e))})),r.a.forwardRef((function(e,t){return r.a.createElement(gr.a,Object.assign({innerRef:t,to:"/Overview"},e))})),r.a.forwardRef((function(e,t){return r.a.createElement(gr.a,Object.assign({innerRef:t,to:"/Table"},e))}))),y=(r.a.forwardRef((function(e,t){return r.a.createElement(gr.a,Object.assign({innerRef:t,to:"/Export"},e))})),Object(c.g)());return r.a.createElement("div",{className:d.root},r.a.createElement(lr.a,null),r.a.createElement(sr.a,{position:"fixed",className:Object(rr.a)(d.appBar,Object(Lt.a)({},d.appBarShift,g))},r.a.createElement(ur.a,null,r.a.createElement(oa.a,{color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},edge:"start",className:Object(rr.a)(d.menuButton,Object(Lt.a)({},d.hide,g))},r.a.createElement(yr.a,null)),y.pathname.includes("Home")?r.a.createElement(Nr,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(hr.a,{className:or.a.SelectedTaskInput},r.a.createElement(br.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s,onChange:l,label:"name"},!o&&i&&i.map((function(e){return r.a.createElement(ha.a,{key:e.taskID,value:e.taskID},e.taskID)})),o&&r.a.createElement(M.a,{variant:"rect",width:"200",height:50,style:{margin:"20px",padding:"20px"}},"Loading task selector"))),r.a.createElement(w.a,{ml:3},r.a.createElement(S.a,{variant:"button",noWrap:!0},u))))),r.a.createElement(cr.a,{variant:"permanent",className:Object(rr.a)(d.drawer,(t={},Object(Lt.a)(t,d.drawerOpen,g),Object(Lt.a)(t,d.drawerClose,!g),t)),classes:{paper:Object(rr.a)((n={},Object(Lt.a)(n,d.drawerOpen,g),Object(Lt.a)(n,d.drawerClose,!g),n))}},r.a.createElement("div",{className:d.toolbar},r.a.createElement(oa.a,{onClick:function(){b(!1)}},"rtl"===m.direction?r.a.createElement(Or.a,null):r.a.createElement(Sr.a,null))),r.a.createElement(j.a,null),r.a.createElement(dr.a,null,[{text:"Task Overview",id:"Home",link:v,icon:Cr.a},{text:"Participant Timeline",id:"Study",link:x,icon:xr.a},{text:"Task Analysis",link:E,id:"Table",icon:fr.a}].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(qt.a,{button:!0,component:e.link},r.a.createElement(mr.a,null,function(e){var t=y.pathname.includes(e.id),n=e.icon;return t?r.a.createElement(n,{style:{color:"rgb(93, 131, 210)"}}," "):r.a.createElement(n,null)}(e)),r.a.createElement(Ht.a,{primary:e.text})))}))),r.a.createElement(j.a,null),r.a.createElement(en,{collapsed:!g})))};n(702);var Pr=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(lt,null,r.a.createElement(c.a,{initialEntries:["/Home"],initialIndex:0},r.a.createElement("div",{className:s.a.container},r.a.createElement("div",{className:s.a.sidePane},r.a.createElement(Tr,null)),r.a.createElement("div",{className:s.a.main},r.a.createElement(er,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[418,1,2]]]);
//# sourceMappingURL=main.f3dcef44.chunk.js.map